/*! elastic.js - v1.0.0 - 2013-03-26
 * https://github.com/fullscale/elastic.js
 * Copyright (c) 2013 FullScale Labs, LLC; Licensed MIT */
(function(){"use strict";var e,t,n,r,i,u,o,s,l,a,f,c,_,h,m,g,p,d,y,b,w,x=this,v=x&&x.ejs,q=Array.prototype,S=Object.prototype,z=q.slice,T=S.toString,E=S.hasOwnProperty,A=q.forEach,F=Array.isArray,O={};w="undefined"!=typeof exports?exports:x.ejs={},e=function(e,t){return E.call(e,t)},t=function(t,n,r){if(null!=t)if(A&&t.forEach===A)t.forEach(n,r);else if(t.length===+t.length){for(var i=0,u=t.length;u>i;i++)if(n.call(r,t[i],i,t)===O)return}else for(var o in t)if(e(t,o)&&n.call(r,t[o],o,t)===O)return},n=function(e){return t(z.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e},r=F||function(e){return"[object Array]"===T.call(e)},i=function(e){return e===Object(e)},u=function(e){return"[object String]"===T.call(e)},o=function(e){return"[object Number]"===T.call(e)},s=function(e){return"function"==typeof e},l=function(t){return i(t)&&e(t,"_type")&&e(t,"_self")&&e(t,"toString")},a=function(e){return l(e)&&"query"===e._type()},f=function(e){return l(e)&&"filter"===e._type()},c=function(e){return l(e)&&"facet"===e._type()},_=function(e){return l(e)&&"script field"===e._type()},h=function(e){return l(e)&&"geo point"===e._type()},m=function(e){return l(e)&&"indexed shape"===e._type()},g=function(e){return l(e)&&"shape"===e._type()},p=function(e){return l(e)&&"sort"===e._type()},d=function(e){return l(e)&&"highlight"===e._type()},y=function(e){return l(e)&&"suggest"===e._type()},b=function(e){return l(e)&&"generator"===e._type()},w.DateHistogramFacet=function(e){var t={};return t[e]={date_histogram:{}},{field:function(n){return null==n?t[e].date_histogram.field:(t[e].date_histogram.field=n,this)},keyField:function(n){return null==n?t[e].date_histogram.key_field:(t[e].date_histogram.key_field=n,this)},valueField:function(n){return null==n?t[e].date_histogram.value_field:(t[e].date_histogram.value_field=n,this)},interval:function(n){return null==n?t[e].date_histogram.interval:(t[e].date_histogram.interval=n,this)},timeZone:function(n){return null==n?t[e].date_histogram.time_zone:(t[e].date_histogram.time_zone=n,this)},preZone:function(n){return null==n?t[e].date_histogram.pre_zone:(t[e].date_histogram.pre_zone=n,this)},preZoneAdjustLargeInterval:function(n){return null==n?t[e].date_histogram.pre_zone_adjust_large_interval:(t[e].date_histogram.pre_zone_adjust_large_interval=n,this)},postZone:function(n){return null==n?t[e].date_histogram.post_zone:(t[e].date_histogram.post_zone=n,this)},preOffset:function(n){return null==n?t[e].date_histogram.pre_offset:(t[e].date_histogram.pre_offset=n,this)},postOffset:function(n){return null==n?t[e].date_histogram.post_offset:(t[e].date_histogram.post_offset=n,this)},factor:function(n){return null==n?t[e].date_histogram.factor:(t[e].date_histogram.factor=n,this)},valueScript:function(n){return null==n?t[e].date_histogram.value_script:(t[e].date_histogram.value_script=n,this)},order:function(n){return null==n?t[e].date_histogram.order:(n=n.toLowerCase(),("time"===n||"count"===n||"total"===n)&&(t[e].date_histogram.order=n),this)},lang:function(n){return null==n?t[e].date_histogram.lang:(t[e].date_histogram.lang=n,this)},params:function(n){return null==n?t[e].date_histogram.params:(t[e].date_histogram.params=n,this)},facetFilter:function(n){if(null==n)return t[e].facet_filter;if(!f(n))throw new TypeError("Argument must be a Filter");return t[e].facet_filter=n._self(),this},global:function(n){return null==n?t[e].global:(t[e].global=n,this)},mode:function(n){return null==n?t[e].mode:(n=n.toLowerCase(),("collector"===n||"post"===n)&&(t[e].mode=n),this)},scope:function(){return this},cacheFilter:function(n){return null==n?t[e].cache_filter:(t[e].cache_filter=n,this)},nested:function(n){return null==n?t[e].nested:(t[e].nested=n,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"facet"},_self:function(){return t}}},w.FilterFacet=function(e){var t={};return t[e]={},{filter:function(n){if(null==n)return t[e].filter;if(!f(n))throw new TypeError("Argument must be a Filter");return t[e].filter=n._self(),this},facetFilter:function(n){if(null==n)return t[e].facet_filter;if(!f(n))throw new TypeError("Argument must be a Filter");return t[e].facet_filter=n._self(),this},global:function(n){return null==n?t[e].global:(t[e].global=n,this)},mode:function(n){return null==n?t[e].mode:(n=n.toLowerCase(),("collector"===n||"post"===n)&&(t[e].mode=n),this)},scope:function(){return this},cacheFilter:function(n){return null==n?t[e].cache_filter:(t[e].cache_filter=n,this)},nested:function(n){return null==n?t[e].nested:(t[e].nested=n,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"facet"},_self:function(){return t}}},w.GeoDistanceFacet=function(e){var t={},n=w.GeoPoint([0,0]),r="location";return t[e]={geo_distance:{location:n._self(),ranges:[]}},{field:function(n){var i=t[e].geo_distance[r];return null==n?r:(delete t[e].geo_distance[r],r=n,t[e].geo_distance[n]=i,this)},point:function(i){if(null==i)return n;if(!h(i))throw new TypeError("Argument must be a GeoPoint");return n=i,t[e].geo_distance[r]=i._self(),this},addRange:function(n,r){return 0===arguments.length?t[e].geo_distance.ranges:(t[e].geo_distance.ranges.push({from:n,to:r}),this)},addUnboundedFrom:function(n){return null==n?t[e].geo_distance.ranges:(t[e].geo_distance.ranges.push({from:n}),this)},addUnboundedTo:function(n){return null==n?t[e].geo_distance.ranges:(t[e].geo_distance.ranges.push({to:n}),this)},unit:function(n){return null==n?t[e].geo_distance.unit:(n=n.toLowerCase(),("mi"===n||"km"===n)&&(t[e].geo_distance.unit=n),this)},distanceType:function(n){return null==n?t[e].geo_distance.distance_type:(n=n.toLowerCase(),("arc"===n||"plane"===n)&&(t[e].geo_distance.distance_type=n),this)},normalize:function(n){return null==n?t[e].geo_distance.normalize:(t[e].geo_distance.normalize=n,this)},valueField:function(n){return null==n?t[e].geo_distance.value_field:(t[e].geo_distance.value_field=n,this)},valueScript:function(n){return null==n?t[e].geo_distance.value_script:(t[e].geo_distance.value_script=n,this)},lang:function(n){return null==n?t[e].geo_distance.lang:(t[e].geo_distance.lang=n,this)},params:function(n){return null==n?t[e].geo_distance.params:(t[e].geo_distance.params=n,this)},facetFilter:function(n){if(null==n)return t[e].facet_filter;if(!f(n))throw new TypeError("Argument must be a Filter");return t[e].facet_filter=n._self(),this},global:function(n){return null==n?t[e].global:(t[e].global=n,this)},mode:function(n){return null==n?t[e].mode:(n=n.toLowerCase(),("collector"===n||"post"===n)&&(t[e].mode=n),this)},scope:function(){return this},cacheFilter:function(n){return null==n?t[e].cache_filter:(t[e].cache_filter=n,this)},nested:function(n){return null==n?t[e].nested:(t[e].nested=n,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"facet"},_self:function(){return t}}},w.HistogramFacet=function(e){var t={};return t[e]={histogram:{}},{field:function(n){return null==n?t[e].histogram.field:(t[e].histogram.field=n,this)},interval:function(n){return null==n?t[e].histogram.interval:(t[e].histogram.interval=n,this)},timeInterval:function(n){return null==n?t[e].histogram.time_interval:(t[e].histogram.time_interval=n,this)},from:function(n){return null==n?t[e].histogram.from:(t[e].histogram.from=n,this)},to:function(n){return null==n?t[e].histogram.to:(t[e].histogram.to=n,this)},valueField:function(n){return null==n?t[e].histogram.value_field:(t[e].histogram.value_field=n,this)},keyField:function(n){return null==n?t[e].histogram.key_field:(t[e].histogram.key_field=n,this)},valueScript:function(n){return null==n?t[e].histogram.value_script:(t[e].histogram.value_script=n,this)},keyScript:function(n){return null==n?t[e].histogram.key_script:(t[e].histogram.key_script=n,this)},lang:function(n){return null==n?t[e].histogram.lang:(t[e].histogram.lang=n,this)},params:function(n){return null==n?t[e].histogram.params:(t[e].histogram.params=n,this)},order:function(n){return null==n?t[e].histogram.order:(n=n.toLowerCase(),("key"===n||"count"===n||"total"===n)&&(t[e].histogram.order=n),this)},facetFilter:function(n){if(null==n)return t[e].facet_filter;if(!f(n))throw new TypeError("Argument must be a Filter");return t[e].facet_filter=n._self(),this},global:function(n){return null==n?t[e].global:(t[e].global=n,this)},mode:function(n){return null==n?t[e].mode:(n=n.toLowerCase(),("collector"===n||"post"===n)&&(t[e].mode=n),this)},scope:function(){return this},cacheFilter:function(n){return null==n?t[e].cache_filter:(t[e].cache_filter=n,this)},nested:function(n){return null==n?t[e].nested:(t[e].nested=n,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"facet"},_self:function(){return t}}},w.QueryFacet=function(e){var t={};return t[e]={},{query:function(n){if(null==n)return t[e].query;if(!a(n))throw new TypeError("Argument must be a Query");return t[e].query=n._self(),this},facetFilter:function(n){if(null==n)return t[e].facet_filter;if(!f(n))throw new TypeError("Argumnet must be a Filter");return t[e].facet_filter=n._self(),this},global:function(n){return null==n?t[e].global:(t[e].global=n,this)},mode:function(n){return null==n?t[e].mode:(n=n.toLowerCase(),("collector"===n||"post"===n)&&(t[e].mode=n),this)},scope:function(){return this},cacheFilter:function(n){return null==n?t[e].cache_filter:(t[e].cache_filter=n,this)},nested:function(n){return null==n?t[e].nested:(t[e].nested=n,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"facet"},_self:function(){return t}}},w.RangeFacet=function(e){var t={};return t[e]={range:{ranges:[]}},{field:function(n){return null==n?t[e].range.field:(t[e].range.field=n,this)},keyField:function(n){return null==n?t[e].range.key_field:(t[e].range.key_field=n,this)},valueField:function(n){return null==n?t[e].range.value_field:(t[e].range.value_field=n,this)},valueScript:function(n){return null==n?t[e].range.value_script:(t[e].range.value_script=n,this)},keyScript:function(n){return null==n?t[e].range.key_script:(t[e].range.key_script=n,this)},lang:function(n){return null==n?t[e].range.lang:(t[e].range.lang=n,this)},params:function(n){return null==n?t[e].range.params:(t[e].range.params=n,this)},addRange:function(n,r){return 0===arguments.length?t[e].range.ranges:(t[e].range.ranges.push({from:n,to:r}),this)},addUnboundedFrom:function(n){return null==n?t[e].range.ranges:(t[e].range.ranges.push({from:n}),this)},addUnboundedTo:function(n){return null==n?t[e].range.ranges:(t[e].range.ranges.push({to:n}),this)},facetFilter:function(n){if(null==n)return t[e].facet_filter;if(!f(n))throw new TypeError("Argument must be a Filter");return t[e].facet_filter=n._self(),this},global:function(n){return null==n?t[e].global:(t[e].global=n,this)},mode:function(n){return null==n?t[e].mode:(n=n.toLowerCase(),("collector"===n||"post"===n)&&(t[e].mode=n),this)},scope:function(){return this},cacheFilter:function(n){return null==n?t[e].cache_filter:(t[e].cache_filter=n,this)},nested:function(n){return null==n?t[e].nested:(t[e].nested=n,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"facet"},_self:function(){return t}}},w.StatisticalFacet=function(e){var t={};return t[e]={statistical:{}},{field:function(n){return null==n?t[e].statistical.field:(t[e].statistical.field=n,this)},fields:function(n){if(null==n)return t[e].statistical.fields;if(!r(n))throw new TypeError("Argument must be an array");return t[e].statistical.fields=n,this},script:function(n){return null==n?t[e].statistical.script:(t[e].statistical.script=n,this)},lang:function(n){return null==n?t[e].statistical.lang:(t[e].statistical.lang=n,this)},params:function(n){return null==n?t[e].statistical.params:(t[e].statistical.params=n,this)},facetFilter:function(n){if(null==n)return t[e].facet_filter;if(!f(n))throw new TypeError("Argument must be a Filter");return t[e].facet_filter=n._self(),this},global:function(n){return null==n?t[e].global:(t[e].global=n,this)},mode:function(n){return null==n?t[e].mode:(n=n.toLowerCase(),("collector"===n||"post"===n)&&(t[e].mode=n),this)},scope:function(){return this},cacheFilter:function(n){return null==n?t[e].cache_filter:(t[e].cache_filter=n,this)},nested:function(n){return null==n?t[e].nested:(t[e].nested=n,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"facet"},_self:function(){return t}}},w.TermStatsFacet=function(e){var t={};return t[e]={terms_stats:{}},{valueField:function(n){return null==n?t[e].terms_stats.value_field:(t[e].terms_stats.value_field=n,this)},keyField:function(n){return null==n?t[e].terms_stats.key_field:(t[e].terms_stats.key_field=n,this)},scriptField:function(n){return null==n?t[e].terms_stats.script_field:(t[e].terms_stats.script_field=n,this)},valueScript:function(n){return null==n?t[e].terms_stats.value_script:(t[e].terms_stats.value_script=n,this)},allTerms:function(n){return null==n?t[e].terms_stats.all_terms:(t[e].terms_stats.all_terms=n,this)},lang:function(n){return null==n?t[e].terms_stats.lang:(t[e].terms_stats.lang=n,this)},params:function(n){return null==n?t[e].terms_stats.params:(t[e].terms_stats.params=n,this)},size:function(n){return null==n?t[e].terms_stats.size:(t[e].terms_stats.size=n,this)},order:function(n){return null==n?t[e].terms_stats.order:(n=n.toLowerCase(),("count"===n||"term"===n||"reverse_count"===n||"reverse_term"===n||"total"===n||"reverse_total"===n||"min"===n||"reverse_min"===n||"max"===n||"reverse_max"===n||"mean"===n||"reverse_mean"===n)&&(t[e].terms_stats.order=n),this)},facetFilter:function(n){if(null==n)return t[e].facet_filter;if(!f(n))throw new TypeError("Argument must be a Filter");return t[e].facet_filter=n._self(),this},global:function(n){return null==n?t[e].global:(t[e].global=n,this)},mode:function(n){return null==n?t[e].mode:(n=n.toLowerCase(),("collector"===n||"post"===n)&&(t[e].mode=n),this)},scope:function(){return this},cacheFilter:function(n){return null==n?t[e].cache_filter:(t[e].cache_filter=n,this)},nested:function(n){return null==n?t[e].nested:(t[e].nested=n,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"facet"},_self:function(){return t}}},w.TermsFacet=function(e){var t={};return t[e]={terms:{}},{field:function(n){return null==n?t[e].terms.field:(t[e].terms.field=n,this)},fields:function(n){if(null==n)return t[e].terms.fields;if(!r(n))throw new TypeError("Argument must be an array");return t[e].terms.fields=n,this},scriptField:function(n){return null==n?t[e].terms.script_field:(t[e].terms.script_field=n,this)},size:function(n){return null==n?t[e].terms.size:(t[e].terms.size=n,this)},order:function(n){return null==n?t[e].terms.order:(n=n.toLowerCase(),("count"===n||"term"===n||"reverse_count"===n||"reverse_term"===n)&&(t[e].terms.order=n),this)},allTerms:function(n){return null==n?t[e].terms.all_terms:(t[e].terms.all_terms=n,this)},exclude:function(n){if(null==t[e].terms.exclude&&(t[e].terms.exclude=[]),null==n)return t[e].terms.exclude;if(u(n))t[e].terms.exclude.push(n);else{if(!r(n))throw new TypeError("Argument must be string or array");t[e].terms.exclude=n}return this},regex:function(n){return null==n?t[e].terms.regex:(t[e].terms.regex=n,this)},regexFlags:function(n){return null==n?t[e].terms.regex_flags:(t[e].terms.regex_flags=n,this)},script:function(n){return null==n?t[e].terms.script:(t[e].terms.script=n,this)},lang:function(n){return null==n?t[e].terms.lang:(t[e].terms.lang=n,this)},params:function(n){return null==n?t[e].terms.params:(t[e].terms.params=n,this)},executionHint:function(n){return null==n?t[e].terms.execution_hint:(t[e].terms.execution_hint=n,this)},facetFilter:function(n){if(null==n)return t[e].facet_filter;if(!f(n))throw new TypeError("Argument must be a Filter");return t[e].facet_filter=n._self(),this},global:function(n){return null==n?t[e].global:(t[e].global=n,this)},mode:function(n){return null==n?t[e].mode:(n=n.toLowerCase(),("collector"===n||"post"===n)&&(t[e].mode=n),this)},scope:function(){return this},cacheFilter:function(n){return null==n?t[e].cache_filter:(t[e].cache_filter=n,this)},nested:function(n){return null==n?t[e].nested:(t[e].nested=n,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"facet"},_self:function(){return t}}},w.AndFilter=function(e){var t,n,i={and:{filters:[]}};if(f(e))i.and.filters.push(e._self());else{if(!r(e))throw new TypeError("Argument must be a Filter or Array of Filters");for(t=0,n=e.length;n>t;t++){if(!f(e[t]))throw new TypeError("Array must contain only Filter objects");i.and.filters.push(e[t]._self())}}return{filters:function(e){var t,n;if(null==e)return i.and.filters;if(f(e))i.and.filters.push(e._self());else{if(!r(e))throw new TypeError("Argument must be a Filter or an Array of Filters");for(i.and.filters=[],t=0,n=e.length;n>t;t++){if(!f(e[t]))throw new TypeError("Array must contain only Filter objects");i.and.filters.push(e[t]._self())}}return this},name:function(e){return null==e?i.and._name:(i.and._name=e,this)},cache:function(e){return null==e?i.and._cache:(i.and._cache=e,this)},cacheKey:function(e){return null==e?i.and._cache_key:(i.and._cache_key=e,this)},toString:function(){return JSON.stringify(i)},_type:function(){return"filter"},_self:function(){return i}}},w.BoolFilter=function(){var e={bool:{}};return{must:function(t){var n,i;if(null==e.bool.must&&(e.bool.must=[]),null==t)return e.bool.must;if(f(t))e.bool.must.push(t._self());else{if(!r(t))throw new TypeError("Argument must be a Filter or array of Filters");for(e.bool.must=[],n=0,i=t.length;i>n;n++){if(!f(t[n]))throw new TypeError("Argument must be an array of Filters");e.bool.must.push(t[n]._self())}}return this},mustNot:function(t){var n,i;if(null==e.bool.must_not&&(e.bool.must_not=[]),null==t)return e.bool.must_not;if(f(t))e.bool.must_not.push(t._self());else{if(!r(t))throw new TypeError("Argument must be a Filter or array of Filters");for(e.bool.must_not=[],n=0,i=t.length;i>n;n++){if(!f(t[n]))throw new TypeError("Argument must be an array of Filters");e.bool.must_not.push(t[n]._self())}}return this},should:function(t){var n,i;if(null==e.bool.should&&(e.bool.should=[]),null==t)return e.bool.should;if(f(t))e.bool.should.push(t._self());else{if(!r(t))throw new TypeError("Argument must be a Filter or array of Filters");for(e.bool.should=[],n=0,i=t.length;i>n;n++){if(!f(t[n]))throw new TypeError("Argument must be an array of Filters");e.bool.should.push(t[n]._self())}}return this},name:function(t){return null==t?e.bool._name:(e.bool._name=t,this)},cache:function(t){return null==t?e.bool._cache:(e.bool._cache=t,this)},cacheKey:function(t){return null==t?e.bool._cache_key:(e.bool._cache_key=t,this)},toString:function(){return JSON.stringify(e)},_type:function(){return"filter"},_self:function(){return e}}},w.ExistsFilter=function(e){var t={exists:{field:e}};return{field:function(e){return null==e?t.exists.field:(t.exists.field=e,this)},name:function(e){return null==e?t.exists._name:(t.exists._name=e,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"filter"},_self:function(){return t}}},w.GeoBboxFilter=function(e){var t={geo_bounding_box:{}};return t.geo_bounding_box[e]={},{field:function(n){var r=t.geo_bounding_box[e];return null==n?e:(delete t.geo_bounding_box[e],e=n,t.geo_bounding_box[n]=r,this)},topLeft:function(n){if(null==n)return t.geo_bounding_box[e].top_left;if(!h(n))throw new TypeError("Argument must be a GeoPoint");return t.geo_bounding_box[e].top_left=n._self(),this},bottomRight:function(n){if(null==n)return t.geo_bounding_box[e].bottom_right;if(!h(n))throw new TypeError("Argument must be a GeoPoint");return t.geo_bounding_box[e].bottom_right=n._self(),this},type:function(e){return null==e?t.geo_bounding_box.type:(e=e.toLowerCase(),("memory"===e||"indexed"===e)&&(t.geo_bounding_box.type=e),this)},normalize:function(e){return null==e?t.geo_bounding_box.normalize:(t.geo_bounding_box.normalize=e,this)},name:function(e){return null==e?t.geo_bounding_box._name:(t.geo_bounding_box._name=e,this)},cache:function(e){return null==e?t.geo_bounding_box._cache:(t.geo_bounding_box._cache=e,this)},cacheKey:function(e){return null==e?t.geo_bounding_box._cache_key:(t.geo_bounding_box._cache_key=e,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"filter"},_self:function(){return t}}},w.GeoDistanceFilter=function(e){var t={geo_distance:{}};return t.geo_distance[e]=[0,0],{field:function(n){var r=t.geo_distance[e];return null==n?e:(delete t.geo_distance[e],e=n,t.geo_distance[n]=r,this)},distance:function(e){if(null==e)return t.geo_distance.distance;if(!o(e))throw new TypeError("Argument must be a numeric value");return t.geo_distance.distance=e,this},unit:function(e){return null==e?t.geo_distance.unit:(e=e.toLowerCase(),("mi"===e||"km"===e)&&(t.geo_distance.unit=e),this)},point:function(n){if(null==n)return t.geo_distance[e];if(!h(n))throw new TypeError("Argument must be a GeoPoint");return t.geo_distance[e]=n._self(),this},distanceType:function(e){return null==e?t.geo_distance.distance_type:(e=e.toLowerCase(),("arc"===e||"plane"===e)&&(t.geo_distance.distance_type=e),this)},normalize:function(e){return null==e?t.geo_distance.normalize:(t.geo_distance.normalize=e,this)},optimizeBbox:function(e){return null==e?t.geo_distance.optimize_bbox:(e=e.toLowerCase(),("memory"===e||"indexed"===e||"none"===e)&&(t.geo_distance.optimize_bbox=e),this)},name:function(e){return null==e?t.geo_distance._name:(t.geo_distance._name=e,this)},cache:function(e){return null==e?t.geo_distance._cache:(t.geo_distance._cache=e,this)},cacheKey:function(e){return null==e?t.geo_distance._cache_key:(t.geo_distance._cache_key=e,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"filter"},_self:function(){return t}}},w.GeoDistanceRangeFilter=function(e){var t={geo_distance_range:{}};return t.geo_distance_range[e]=[0,0],{field:function(n){var r=t.geo_distance_range[e];return null==n?e:(delete t.geo_distance_range[e],e=n,t.geo_distance_range[n]=r,this)},from:function(e){if(null==e)return t.geo_distance_range.from;if(!o(e))throw new TypeError("Argument must be a numeric value");return t.geo_distance_range.from=e,this},to:function(e){if(null==e)return t.geo_distance_range.to;if(!o(e))throw new TypeError("Argument must be a numeric value");return t.geo_distance_range.to=e,this},includeLower:function(e){return null==e?t.geo_distance_range.include_lower:(t.geo_distance_range.include_lower=e,this)},includeUpper:function(e){return null==e?t.geo_distance_range.include_upper:(t.geo_distance_range.include_upper=e,this)},gt:function(e){if(null==e)return t.geo_distance_range.gt;if(!o(e))throw new TypeError("Argument must be a numeric value");return t.geo_distance_range.gt=e,this},gte:function(e){if(null==e)return t.geo_distance_range.gte;if(!o(e))throw new TypeError("Argument must be a numeric value");return t.geo_distance_range.gte=e,this},lt:function(e){if(null==e)return t.geo_distance_range.lt;if(!o(e))throw new TypeError("Argument must be a numeric value");return t.geo_distance_range.lt=e,this},lte:function(e){if(null==e)return t.geo_distance_range.lte;if(!o(e))throw new TypeError("Argument must be a numeric value");return t.geo_distance_range.lte=e,this},unit:function(e){return null==e?t.geo_distance_range.unit:(e=e.toLowerCase(),("mi"===e||"km"===e)&&(t.geo_distance_range.unit=e),this)},point:function(n){if(null==n)return t.geo_distance_range[e];if(!h(n))throw new TypeError("Argument must be a GeoPoint");return t.geo_distance_range[e]=n._self(),this},distanceType:function(e){return null==e?t.geo_distance_range.distance_type:(e=e.toLowerCase(),("arc"===e||"plane"===e)&&(t.geo_distance_range.distance_type=e),this)},normalize:function(e){return null==e?t.geo_distance_range.normalize:(t.geo_distance_range.normalize=e,this)},optimizeBbox:function(e){return null==e?t.geo_distance_range.optimize_bbox:(e=e.toLowerCase(),("memory"===e||"indexed"===e||"none"===e)&&(t.geo_distance_range.optimize_bbox=e),this)},name:function(e){return null==e?t.geo_distance_range._name:(t.geo_distance_range._name=e,this)},cache:function(e){return null==e?t.geo_distance_range._cache:(t.geo_distance_range._cache=e,this)},cacheKey:function(e){return null==e?t.geo_distance_range._cache_key:(t.geo_distance_range._cache_key=e,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"filter"},_self:function(){return t}}},w.GeoPolygonFilter=function(e){var t={geo_polygon:{}};return t.geo_polygon[e]={points:[]},{field:function(n){var r=t.geo_polygon[e];return null==n?e:(delete t.geo_polygon[e],e=n,t.geo_polygon[n]=r,this)},points:function(n){var i,u;if(null==n)return t.geo_polygon[e].points;if(h(n))t.geo_polygon[e].points.push(n._self());else{if(!r(n))throw new TypeError("Argument must be a GeoPoint or Array of GeoPoints");for(t.geo_polygon[e].points=[],i=0,u=n.length;u>i;i++){if(!h(n[i]))throw new TypeError("Argument must be Array of GeoPoints");t.geo_polygon[e].points.push(n[i]._self())}}return this},normalize:function(e){return null==e?t.geo_polygon.normalize:(t.geo_polygon.normalize=e,this)},name:function(e){return null==e?t.geo_polygon._name:(t.geo_polygon._name=e,this)},cache:function(e){return null==e?t.geo_polygon._cache:(t.geo_polygon._cache=e,this)},cacheKey:function(e){return null==e?t.geo_polygon._cache_key:(t.geo_polygon._cache_key=e,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"filter"},_self:function(){return t}}},w.GeoShapeFilter=function(e){var t={geo_shape:{}};return t.geo_shape[e]={},{field:function(n){var r=t.geo_shape[e];return null==n?e:(delete t.geo_shape[e],e=n,t.geo_shape[n]=r,this)},shape:function(n){return null==n?t.geo_shape[e].shape:(null!=t.geo_shape[e].indexed_shape&&delete t.geo_shape[e].indexed_shape,t.geo_shape[e].shape=n._self(),this)},indexedShape:function(n){return null==n?t.geo_shape[e].indexed_shape:(null!=t.geo_shape[e].shape&&delete t.geo_shape[e].shape,t.geo_shape[e].indexed_shape=n._self(),this)},relation:function(n){return null==n?t.geo_shape[e].relation:(n=n.toLowerCase(),("intersects"===n||"disjoint"===n||"within"===n)&&(t.geo_shape[e].relation=n),this)},strategy:function(n){return null==n?t.geo_shape[e].strategy:(n=n.toLowerCase(),("recursive"===n||"term"===n)&&(t.geo_shape[e].strategy=n),this)},name:function(e){return null==e?t.geo_shape._name:(t.geo_shape._name=e,this)},cache:function(e){return null==e?t.geo_shape._cache:(t.geo_shape._cache=e,this)},cacheKey:function(e){return null==e?t.geo_shape._cache_key:(t.geo_shape._cache_key=e,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"filter"},_self:function(){return t}}},w.HasChildFilter=function(e,t){if(!a(e))throw new TypeError("No Query object found");var n={has_child:{query:e._self(),type:t}};return{query:function(e){if(null==e)return n.has_child.query;if(!a(e))throw new TypeError("Argument must be a Query object");return n.has_child.query=e._self(),this},filter:function(e){if(null==e)return n.has_child.filter;if(!f(e))throw new TypeError("Argument must be a Filter object");return n.has_child.filter=e._self(),this},type:function(e){return null==e?n.has_child.type:(n.has_child.type=e,this)},scope:function(){return this},name:function(e){return null==e?n.has_child._name:(n.has_child._name=e,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"filter"},_self:function(){return n}}},w.HasParentFilter=function(e,t){if(!a(e))throw new TypeError("No Query object found");var n={has_parent:{query:e._self(),parent_type:t}};return{query:function(e){if(null==e)return n.has_parent.query;if(!a(e))throw new TypeError("Argument must be a Query object");return n.has_parent.query=e._self(),this},filter:function(e){if(null==e)return n.has_parent.filter;if(!f(e))throw new TypeError("Argument must be a Filter object");return n.has_parent.filter=e._self(),this},parentType:function(e){return null==e?n.has_parent.parent_type:(n.has_parent.parent_type=e,this)},scope:function(){return this},name:function(e){return null==e?n.has_parent._name:(n.has_parent._name=e,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"filter"},_self:function(){return n}}},w.IdsFilter=function(e){var t={ids:{}};if(u(e))t.ids.values=[e];else{if(!r(e))throw new TypeError("Argument must be a string or an array");t.ids.values=e}return{values:function(e){if(null==e)return t.ids.values;if(u(e))t.ids.values.push(e);else{if(!r(e))throw new TypeError("Argument must be a string or an array");t.ids.values=e}return this},type:function(e){if(null==t.ids.type&&(t.ids.type=[]),null==e)return t.ids.type;if(u(e))t.ids.type.push(e);else{if(!r(e))throw new TypeError("Argument must be a string or an array");t.ids.type=e}return this},name:function(e){return null==e?t.ids._name:(t.ids._name=e,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"filter"},_self:function(){return t}}},w.IndicesFilter=function(e,t){if(!f(e))throw new TypeError("Argument must be a Filter");var n={indices:{filter:e._self()}};if(u(t))n.indices.indices=[t];else{if(!r(t))throw new TypeError("Argument must be a string or array");n.indices.indices=t}return{indices:function(e){if(null==e)return n.indices.indices;if(u(e))n.indices.indices.push(e);else{if(!r(e))throw new TypeError("Argument must be a string or array");n.indices.indices=e}return this},filter:function(e){if(null==e)return n.indices.filter;if(!f(e))throw new TypeError("Argument must be a Filter");return n.indices.filter=e._self(),this},noMatchFilter:function(e){if(null==e)return n.indices.no_match_filter;if(u(e))e=e.toLowerCase(),("none"===e||"all"===e)&&(n.indices.no_match_filter=e);else{if(!f(e))throw new TypeError("Argument must be string or Filter");n.indices.no_match_filter=e._self()}return this},toString:function(){return JSON.stringify(n)},_type:function(){return"filter"},_self:function(){return n}}},w.LimitFilter=function(e){var t={limit:{value:e}};return{value:function(e){if(null==e)return t.limit.value;if(!o(e))throw new TypeError("Argument must be a numeric value");return t.limit.value=e,this},toString:function(){return JSON.stringify(t)},_type:function(){return"filter"},_self:function(){return t}}},w.MatchAllFilter=function(){var e={match_all:{}};return{toString:function(){return JSON.stringify(e)},_type:function(){return"filter"},_self:function(){return e}}},w.MissingFilter=function(e){var t={missing:{field:e}};return{field:function(e){return null==e?t.missing.field:(t.missing.field=e,this)},existence:function(e){return null==e?t.missing.existence:(t.missing.existence=e,this)},nullValue:function(e){return null==e?t.missing.null_value:(t.missing.null_value=e,this)},name:function(e){return null==e?t.missing._name:(t.missing._name=e,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"filter"},_self:function(){return t}}},w.NestedFilter=function(e){var t={nested:{path:e}};return{path:function(e){return null==e?t.nested.path:(t.nested.path=e,this)},query:function(e){if(null==e)return t.nested.query;if(!a(e))throw new TypeError("Argument must be a Query object");return t.nested.query=e._self(),this},filter:function(e){if(null==e)return t.nested.filter;if(!f(e))throw new TypeError("Argument must be a Filter object");return t.nested.filter=e._self(),this},boost:function(e){return null==e?t.nested.boost:(t.nested.boost=e,this)},join:function(e){return null==e?t.nested.join:(t.nested.join=e,this)},scope:function(){return this},name:function(e){return null==e?t.nested._name:(t.nested._name=e,this)},cache:function(e){return null==e?t.nested._cache:(t.nested._cache=e,this)},cacheKey:function(e){return null==e?t.nested._cache_key:(t.nested._cache_key=e,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"filter"},_self:function(){return t}}},w.NotFilter=function(e){if(!f(e))throw new TypeError("Argument must be a Filter");var t={not:e._self()};return{filter:function(e){if(null==e)return t.not;if(!f(e))throw new TypeError("Argument must be a Filter");return t.not=e._self(),this
},name:function(e){return null==e?t.not._name:(t.not._name=e,this)},cache:function(e){return null==e?t.not._cache:(t.not._cache=e,this)},cacheKey:function(e){return null==e?t.not._cache_key:(t.not._cache_key=e,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"filter"},_self:function(){return t}}},w.NumericRangeFilter=function(e){var t={numeric_range:{}};return t.numeric_range[e]={},{field:function(n){var r=t.numeric_range[e];return null==n?e:(delete t.numeric_range[e],e=n,t.numeric_range[e]=r,this)},from:function(n){if(null==n)return t.numeric_range[e].from;if(!o(n))throw new TypeError("Argument must be a numeric value");return t.numeric_range[e].from=n,this},to:function(n){if(null==n)return t.numeric_range[e].to;if(!o(n))throw new TypeError("Argument must be a numeric value");return t.numeric_range[e].to=n,this},includeLower:function(n){return null==n?t.numeric_range[e].include_lower:(t.numeric_range[e].include_lower=n,this)},includeUpper:function(n){return null==n?t.numeric_range[e].include_upper:(t.numeric_range[e].include_upper=n,this)},gt:function(n){if(null==n)return t.numeric_range[e].gt;if(!o(n))throw new TypeError("Argument must be a numeric value");return t.numeric_range[e].gt=n,this},gte:function(n){if(null==n)return t.numeric_range[e].gte;if(!o(n))throw new TypeError("Argument must be a numeric value");return t.numeric_range[e].gte=n,this},lt:function(n){if(null==n)return t.numeric_range[e].lt;if(!o(n))throw new TypeError("Argument must be a numeric value");return t.numeric_range[e].lt=n,this},lte:function(n){if(null==n)return t.numeric_range[e].lte;if(!o(n))throw new TypeError("Argument must be a numeric value");return t.numeric_range[e].lte=n,this},name:function(e){return null==e?t.numeric_range._name:(t.numeric_range._name=e,this)},cache:function(e){return null==e?t.numeric_range._cache:(t.numeric_range._cache=e,this)},cacheKey:function(e){return null==e?t.numeric_range._cache_key:(t.numeric_range._cache_key=e,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"filter"},_self:function(){return t}}},w.OrFilter=function(e){var t,n,i;if(t={or:{filters:[]}},f(e))t.or.filters.push(e._self());else{if(!r(e))throw new TypeError("Argument must be a Filter or array of Filters");for(n=0,i=e.length;i>n;n++){if(!f(e[n]))throw new TypeError("Argument must be array of Filters");t.or.filters.push(e[n]._self())}}return{filters:function(e){var n,i;if(null==e)return t.or.filters;if(f(e))t.or.filters.push(e._self());else{if(!r(e))throw new TypeError("Argument must be a Filter or array of Filters");for(t.or.filters=[],n=0,i=e.length;i>n;n++){if(!f(e[n]))throw new TypeError("Argument must be an array of Filters");t.or.filters.push(e[n]._self())}}return this},name:function(e){return null==e?t.or._name:(t.or._name=e,this)},cache:function(e){return null==e?t.or._cache:(t.or._cache=e,this)},cacheKey:function(e){return null==e?t.or._cache_key:(t.or._cache_key=e,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"filter"},_self:function(){return t}}},w.PrefixFilter=function(e,t){var n={prefix:{}};return n.prefix[e]=t,{field:function(t){var r=n.prefix[e];return null==t?e:(delete n.prefix[e],e=t,n.prefix[e]=r,this)},prefix:function(t){return null==t?n.prefix[e]:(n.prefix[e]=t,this)},name:function(e){return null==e?n.prefix._name:(n.prefix._name=e,this)},cache:function(e){return null==e?n.prefix._cache:(n.prefix._cache=e,this)},cacheKey:function(e){return null==e?n.prefix._cache_key:(n.prefix._cache_key=e,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"filter"},_self:function(){return n}}},w.QueryFilter=function(e){if(!a(e))throw new TypeError("Argument must be a Query");var t={fquery:{query:e._self()}};return{query:function(e){if(null==e)return t.fquery.query;if(!a(e))throw new TypeError("Argument must be a Query");return t.fquery.query=e._self(),this},name:function(e){return null==e?t.fquery._name:(t.fquery._name=e,this)},cache:function(e){return null==e?t.fquery._cache:(t.fquery._cache=e,this)},cacheKey:function(e){return null==e?t.fquery._cache_key:(t.fquery._cache_key=e,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"filter"},_self:function(){return t}}},w.RangeFilter=function(e){var t={range:{}};return t.range[e]={},{field:function(n){var r=t.range[e];return null==n?e:(delete t.range[e],e=n,t.range[n]=r,this)},from:function(n){return null==n?t.range[e].from:(t.range[e].from=n,this)},to:function(n){return null==n?t.range[e].to:(t.range[e].to=n,this)},includeLower:function(n){return null==n?t.range[e].include_lower:(t.range[e].include_lower=n,this)},includeUpper:function(n){return null==n?t.range[e].include_upper:(t.range[e].include_upper=n,this)},gt:function(n){return null==n?t.range[e].gt:(t.range[e].gt=n,this)},gte:function(n){return null==n?t.range[e].gte:(t.range[e].gte=n,this)},lt:function(n){return null==n?t.range[e].lt:(t.range[e].lt=n,this)},lte:function(n){return null==n?t.range[e].lte:(t.range[e].lte=n,this)},name:function(e){return null==e?t.range._name:(t.range._name=e,this)},cache:function(e){return null==e?t.range._cache:(t.range._cache=e,this)},cacheKey:function(e){return null==e?t.range._cache_key:(t.range._cache_key=e,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"filter"},_self:function(){return t}}},w.RegexpFilter=function(e,t){var n={regexp:{}};return n.regexp[e]={value:t},{field:function(t){var r=n.regexp[e];return null==t?e:(delete n.regexp[e],e=t,n.regexp[t]=r,this)},value:function(t){return null==t?n.regexp[e].value:(n.regexp[e].value=t,this)},flags:function(t){return null==t?n.regexp[e].flags:(n.regexp[e].flags=t,this)},flagsValue:function(t){return null==t?n.regexp[e].flags_value:(n.regexp[e].flags_value=t,this)},name:function(e){return null==e?n.regexp._name:(n.regexp._name=e,this)},cache:function(e){return null==e?n.regexp._cache:(n.regexp._cache=e,this)},cacheKey:function(e){return null==e?n.regexp._cache_key:(n.regexp._cache_key=e,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"filter"},_self:function(){return n}}},w.ScriptFilter=function(e){var t={script:{script:e}};return{script:function(e){return null==e?t.script.script:(t.script.script=e,this)},params:function(e){return null==e?t.script.params:(t.script.params=e,this)},lang:function(e){return null==e?t.script.lang:(t.script.lang=e,this)},name:function(e){return null==e?t.script._name:(t.script._name=e,this)},cache:function(e){return null==e?t.script._cache:(t.script._cache=e,this)},cacheKey:function(e){return null==e?t.script._cache_key:(t.script._cache_key=e,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"filter"},_self:function(){return t}}},w.TermFilter=function(e,t){var n={term:{}};return n.term[e]=t,{field:function(t){var r=n.term[e];return null==t?e:(delete n.term[e],e=t,n.term[e]=r,this)},term:function(t){return null==t?n.term[e]:(n.term[e]=t,this)},name:function(e){return null==e?n.term._name:(n.term._name=e,this)},cache:function(e){return null==e?n.term._cache:(n.term._cache=e,this)},cacheKey:function(e){return null==e?n.term._cache_key:(n.term._cache_key=e,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"filter"},_self:function(){return n}}},w.TermsFilter=function(e,t){var n={terms:{}},i=function(){r(n.terms[e])||(n.terms[e]=[])},u=function(){r(n.terms[e])&&(n.terms[e]={})};return n.terms[e]=r(t)?t:[t],{field:function(t){var r=n.terms[e];return null==t?e:(delete n.terms[e],e=t,n.terms[t]=r,this)},terms:function(t){return i(),null==t?n.terms[e]:(r(t)?n.terms[e]=t:n.terms[e].push(t),this)},index:function(t){return u(),null==t?n.terms[e].index:(n.terms[e].index=t,this)},type:function(t){return u(),null==t?n.terms[e].type:(n.terms[e].type=t,this)},id:function(t){return u(),null==t?n.terms[e].id:(n.terms[e].id=t,this)},path:function(t){return u(),null==t?n.terms[e].path:(n.terms[e].path=t,this)},execution:function(e){return null==e?n.terms.execution:(e=e.toLowerCase(),("plain"===e||"bool"===e||"bool_nocache"===e||"and"===e||"and_nocache"===e||"or"===e||"or_nocache"===e)&&(n.terms.execution=e),this)},name:function(e){return null==e?n.terms._name:(n.terms._name=e,this)},cache:function(e){return null==e?n.terms._cache:(n.terms._cache=e,this)},cacheKey:function(e){return null==e?n.terms._cache_key:(n.terms._cache_key=e,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"filter"},_self:function(){return n}}},w.TypeFilter=function(e){var t={type:{value:e}};return{type:function(e){return null==e?t.type.value:(t.type.value=e,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"filter"},_self:function(){return t}}},w.Document=function(t,n,o){var s={},l=function(){var t=a(),n=[];for(var r in t)e(t,r)&&n.push(r+"="+encodeURIComponent(t[r]));return n.join("&")},a=function(){var t={};for(var n in s)if(e(s,n)&&"upsert"!==n&&"source"!==n&&"script"!==n&&"lang"!==n&&"params"!==n){var i=s[n];r(i)&&(i=i.join()),t[n]=i}return t};return{index:function(e){return null==e?t:(t=e,this)},type:function(e){return null==e?n:(n=e,this)},id:function(e){return null==e?o:(o=e,this)},routing:function(e){return null==e?s.routing:(s.routing=e,this)},parent:function(e){return null==e?s.parent:(s.parent=e,this)},timestamp:function(e){return null==e?s.timestamp:(s.timestamp=e,this)},ttl:function(e){return null==e?s.ttl:(s.ttl=e,this)},timeout:function(e){return null==e?s.timeout:(s.timeout=e,this)},refresh:function(e){return null==e?s.refresh:(s.refresh=e,this)},version:function(e){return null==e?s.version:(s.version=e,this)},versionType:function(e){return null==e?s.version_type:(e=e.toLowerCase(),("internal"===e||"external"===e)&&(s.version_type=e),this)},percolate:function(e){return null==e?s.percolate:(s.percolate=e,this)},opType:function(e){return null==e?s.op_type:(e=e.toLowerCase(),("index"===e||"create"===e)&&(s.op_type=e),this)},replication:function(e){return null==e?s.replication:(e=e.toLowerCase(),("async"===e||"sync"===e||"default"===e)&&(s.replication=e),this)},consistency:function(e){return null==e?s.consistency:(e=e.toLowerCase(),("default"===e||"one"===e||"quorum"===e||"all"===e)&&(s.consistency=e),this)},preference:function(e){return null==e?s.preference:(s.preference=e,this)},realtime:function(e){return null==e?s.realtime:(s.realtime=e,this)},fields:function(e){if(null==s.fields&&(s.fields=[]),null==e)return s.fields;if(u(e))s.fields.push(e);else{if(!r(e))throw new TypeError("Argument must be string or array");s.fields=e}return this},script:function(e){return null==e?s.script:(s.script=e,this)},lang:function(e){return null==e?s.lang:(s.lang=e,this)},params:function(e){if(null==e)return s.params;if(!i(e))throw new TypeError("Argument must be an object");return s.params=e,this},retryOnConflict:function(e){return null==e?s.retry_on_conflict:(s.retry_on_conflict=e,this)},upsert:function(e){if(null==e)return s.upsert;if(!i(e))throw new TypeError("Argument must be an object");return s.upsert=e,this},source:function(e){if(null==e)return s.source;if(!i(e))throw new TypeError("Argument must be an object");return s.source=e,this},toString:function(){return JSON.stringify(s)},_type:function(){return"document"},_self:function(){return s},doGet:function(e,r){if(null==w.client)throw Error("No Client Set");if(null==t||null==n||null==o)throw Error("Index, Type, and ID must be set");var i="/"+t+"/"+n+"/"+o;return w.client.get(i,a(),e,r)},doIndex:function(e,r){if(null==w.client)throw Error("No Client Set");if(null==t||null==n)throw Error("Index and Type must be set");if(null==s.source)throw Error("No source document found");var i,u="/"+t+"/"+n,a=JSON.stringify(s.source),f=l();return null!=o&&(u=u+"/"+o),""!==f&&(u=u+"?"+f),i=null==o?w.client.post(u,a,e,r):w.client.put(u,a,e,r)},doUpdate:function(e,r){if(null==w.client)throw Error("No Client Set");if(null==t||null==n||null==o)throw Error("Index, Type, and ID must be set");if(null==s.script&&null==s.source)throw Error("Update script or document required");var i="/"+t+"/"+n+"/"+o+"/_update",u={},a=l();return""!==a&&(i=i+"?"+a),null!=s.script&&(u.script=s.script),null!=s.lang&&(u.lang=s.lang),null!=s.params&&(u.params=s.params),null!=s.upsert&&(u.upsert=s.upsert),null!=s.source&&(u.doc=s.source),w.client.post(i,JSON.stringify(u),e,r)},doDelete:function(e,r){if(null==w.client)throw Error("No Client Set");if(null==t||null==n||null==o)throw Error("Index, Type, and ID must be set");var i="/"+t+"/"+n+"/"+o,u="",s=l();return""!==s&&(i=i+"?"+s),w.client.del(i,u,e,r)}}},w.BoolQuery=function(){var e={bool:{}};return{must:function(t){var n,i;if(null==e.bool.must&&(e.bool.must=[]),null==t)return e.bool.must;if(a(t))e.bool.must.push(t._self());else{if(!r(t))throw new TypeError("Argument must be a Query or array of Queries");for(e.bool.must=[],n=0,i=t.length;i>n;n++){if(!a(t[n]))throw new TypeError("Argument must be an array of Queries");e.bool.must.push(t[n]._self())}}return this},mustNot:function(t){var n,i;if(null==e.bool.must_not&&(e.bool.must_not=[]),null==t)return e.bool.must_not;if(a(t))e.bool.must_not.push(t._self());else{if(!r(t))throw new TypeError("Argument must be a Query or array of Queries");for(e.bool.must_not=[],n=0,i=t.length;i>n;n++){if(!a(t[n]))throw new TypeError("Argument must be an array of Queries");e.bool.must_not.push(t[n]._self())}}return this},should:function(t){var n,i;if(null==e.bool.should&&(e.bool.should=[]),null==t)return e.bool.should;if(a(t))e.bool.should.push(t._self());else{if(!r(t))throw new TypeError("Argument must be a Query or array of Queries");for(e.bool.should=[],n=0,i=t.length;i>n;n++){if(!a(t[n]))throw new TypeError("Argument must be an array of Queries");e.bool.should.push(t[n]._self())}}return this},boost:function(t){return null==t?e.bool.boost:(e.bool.boost=t,this)},disableCoord:function(t){return null==t?e.bool.disable_coord:(e.bool.disable_coord=t,this)},minimumNumberShouldMatch:function(t){return null==t?e.bool.minimum_number_should_match:(e.bool.minimum_number_should_match=t,this)},toString:function(){return JSON.stringify(e)},_type:function(){return"query"},_self:function(){return e}}},w.BoostingQuery=function(e,t,n){if(!a(e)||!a(t))throw new TypeError("Arguments must be Queries");var r={boosting:{positive:e._self(),negative:t._self(),negative_boost:n}};return{positive:function(e){if(null==e)return r.boosting.positive;if(!a(e))throw new TypeError("Argument must be a Query");return r.boosting.positive=e._self(),this},negative:function(e){if(null==e)return r.boosting.negative;if(!a(e))throw new TypeError("Argument must be a Query");return r.boosting.negative=e._self(),this},negativeBoost:function(e){return null==e?r.boosting.negative_boost:(r.boosting.negative_boost=e,this)},boost:function(e){return null==e?r.boosting.boost:(r.boosting.boost=e,this)},toString:function(){return JSON.stringify(r)},_type:function(){return"query"},_self:function(){return r}}},w.CommonTermsQuery=function(e,t){var n={common:{}};return null==e&&(e="no_field_set"),n.common[e]={},null!=t&&(n.common[e].query=t),{field:function(t){var r=n.common[e];return null==t?e:(delete n.common[e],e=t,n.common[t]=r,this)},query:function(t){return null==t?n.common[e].query:(n.common[e].query=t,this)},analyzer:function(t){return null==t?n.common[e].analyzer:(n.common[e].analyzer=t,this)},disableCoords:function(t){return null==t?n.common[e].disable_coords:(n.common[e].disable_coords=t,this)},cutoffFrequency:function(t){return null==t?n.common[e].cutoff_frequency:(n.common[e].cutoff_frequency=t,this)},highFreqOperator:function(t){return null==t?n.common[e].high_freq_operator:(t=t.toLowerCase(),("and"===t||"or"===t)&&(n.common[e].high_freq_operator=t),this)},lowFreqOperator:function(t){return null==t?n.common[e].low_freq_operator:(t=t.toLowerCase(),("and"===t||"or"===t)&&(n.common[e].low_freq_operator=t),this)},minimumShouldMatch:function(t){return null==t?n.common[e].minimum_should_match:(n.common[e].minimum_should_match=t,this)},boost:function(t){return null==t?n.common[e].boost:(n.common[e].boost=t,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"query"},_self:function(){return n}}},w.ConstantScoreQuery=function(){var e={constant_score:{}};return{query:function(t){if(null==t)return e.constant_score.query;if(!a(t))throw new TypeError("Argument must be a Query");return e.constant_score.query=t._self(),this},filter:function(t){if(null==t)return e.constant_score.filter;if(!f(t))throw new TypeError("Argument must be a Filter");return e.constant_score.filter=t._self(),this},cache:function(t){return null==t?e.constant_score._cache:(e.constant_score._cache=t,this)},cacheKey:function(t){return null==t?e.constant_score._cache_key:(e.constant_score._cache_key=t,this)},boost:function(t){return null==t?e.constant_score.boost:(e.constant_score.boost=t,this)},toString:function(){return JSON.stringify(e)},_type:function(){return"query"},_self:function(){return e}}},w.CustomBoostFactorQuery=function(e){if(!a(e))throw new TypeError("Argument must be a Query");var t={custom_boost_factor:{query:e._self()}};return{query:function(e){if(null==e)return t.custom_boost_factor.query;if(!a(e))throw new TypeError("Argument must be a Query");return t.custom_boost_factor.query=e._self(),this},boostFactor:function(e){return null==e?t.custom_boost_factor.boost_factor:(t.custom_boost_factor.boost_factor=e,this)},boost:function(e){return null==e?t.custom_boost_factor.boost:(t.custom_boost_factor.boost=e,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"query"},_self:function(){return t}}},w.CustomFiltersScoreQuery=function(e,n){if(!a(e))throw new TypeError("Argument must be a Query");var i={custom_filters_score:{query:e._self(),filters:[]}},u=function(e){var t=null;return e.filter&&f(e.filter)&&(t={filter:e.filter._self()},e.boost?t.boost=e.boost:e.script?t.script=e.script:t=null),t};return t(r(n)?n:[n],function(e){var t=u(e);null!==t&&i.custom_filters_score.filters.push(t)}),{query:function(e){if(null==e)return i.custom_filters_score.query;if(!a(e))throw new TypeError("Argument must be a Query");return i.custom_filters_score.query=e._self(),this},filters:function(e){return null==e?i.custom_filters_score.filters:(r(e)&&(i.custom_filters_score.filters=[]),t(r(e)?e:[e],function(e){var t=u(e);null!==t&&i.custom_filters_score.filters.push(t)}),this)},scoreMode:function(e){return null==e?i.custom_filters_score.score_mode:(e=e.toLowerCase(),("first"===e||"min"===e||"max"===e||"total"===e||"avg"===e||"multiply"===e)&&(i.custom_filters_score.score_mode=e),this)},params:function(e){return null==e?i.custom_filters_score.params:(i.custom_filters_score.params=e,this)},lang:function(e){return null==e?i.custom_filters_score.lang:(i.custom_filters_score.lang=e,this)},maxBoost:function(e){return null==e?i.custom_filters_score.max_boost:(i.custom_filters_score.max_boost=e,this)},boost:function(e){return null==e?i.custom_filters_score.boost:(i.custom_filters_score.boost=e,this)},toString:function(){return JSON.stringify(i)},_type:function(){return"query"},_self:function(){return i}}},w.CustomScoreQuery=function(e,t){if(!a(e))throw new TypeError("Argument must be a Query");var n={custom_score:{query:e._self(),script:t}};return{query:function(e){if(null==e)return n.custom_score.query;if(!a(e))throw new TypeError("Argument must be a Query");return n.custom_score.query=e._self(),this},script:function(e){return null==e?n.custom_score.script:(n.custom_score.script=e,this)},params:function(e){return null==e?n.custom_score.params:(n.custom_score.params=e,this)},lang:function(e){return null==e?n.custom_score.lang:(n.custom_score.lang=e,this)},boost:function(e){return null==e?n.custom_score.boost:(n.custom_score.boost=e,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"query"},_self:function(){return n}}},w.DisMaxQuery=function(){var e={dis_max:{}};return{queries:function(t){var n,i;if(null==t)return e.dis_max.queries;if(null==e.dis_max.queries&&(e.dis_max.queries=[]),a(t))e.dis_max.queries.push(t._self());else{if(!r(t))throw new TypeError("Argument must be a Query or array of Queries");for(e.dis_max.queries=[],n=0,i=t.length;i>n;n++){if(!a(t[n]))throw new TypeError("Argument must be array of Queries");e.dis_max.queries.push(t[n]._self())}}return this},boost:function(t){return null==t?e.dis_max.boost:(e.dis_max.boost=t,this)},tieBreaker:function(t){return null==t?e.dis_max.tie_breaker:(e.dis_max.tie_breaker=t,this)},toString:function(){return JSON.stringify(e)},_type:function(){return"query"},_self:function(){return e}}},w.FieldMaskingSpanQuery=function(e,t){if(!a(e))throw new TypeError("Argument must be a SpanQuery");var n={field_masking_span:{query:e._self(),field:t}};return{query:function(e){if(null==e)return n.field_masking_span.query;if(!a(e))throw new TypeError("Argument must be a SpanQuery");return n.field_masking_span.query=e._self(),this},field:function(e){return null==e?n.field_masking_span.field:(n.field_masking_span.field=e,this)},boost:function(e){return null==e?n.field_masking_span.boost:(n.field_masking_span.boost=e,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"query"},_self:function(){return n}}},w.FieldQuery=function(e,t){var n={field:{}};return n.field[e]={query:t},{field:function(t){var r=n.field[e];return null==t?e:(delete n.field[e],e=t,n.field[t]=r,this)},query:function(t){return null==t?n.field[e].query:(n.field[e].query=t,this)},defaultOperator:function(t){return null==t?n.field[e].default_operator:(t=t.toUpperCase(),("AND"===t||"OR"===t)&&(n.field[e].default_operator=t),this)},analyzer:function(t){return null==t?n.field[e].analyzer:(n.field[e].analyzer=t,this)},quoteAnalyzer:function(t){return null==t?n.field[e].quote_analyzer:(n.field[e].quote_analyzer=t,this)},autoGeneratePhraseQueries:function(t){return null==t?n.field[e].auto_generate_phrase_queries:(n.field[e].auto_generate_phrase_queries=t,this)},allowLeadingWildcard:function(t){return null==t?n.field[e].allow_leading_wildcard:(n.field[e].allow_leading_wildcard=t,this)},lowercaseExpandedTerms:function(t){return null==t?n.field[e].lowercase_expanded_terms:(n.field[e].lowercase_expanded_terms=t,this)},enablePositionIncrements:function(t){return null==t?n.field[e].enable_position_increments:(n.field[e].enable_position_increments=t,this)},fuzzyMinSim:function(t){return null==t?n.field[e].fuzzy_min_sim:(n.field[e].fuzzy_min_sim=t,this)},boost:function(t){return null==t?n.field[e].boost:(n.field[e].boost=t,this)},fuzzyPrefixLength:function(t){return null==t?n.field[e].fuzzy_prefix_length:(n.field[e].fuzzy_prefix_length=t,this)},fuzzyMaxExpansions:function(t){return null==t?n.field[e].fuzzy_max_expansions:(n.field[e].fuzzy_max_expansions=t,this)},fuzzyRewrite:function(t){return null==t?n.field[e].fuzzy_rewrite:(t=t.toLowerCase(),("constant_score_auto"===t||"scoring_boolean"===t||"constant_score_boolean"===t||"constant_score_filter"===t||0===t.indexOf("top_terms_boost_")||0===t.indexOf("top_terms_"))&&(n.field[e].fuzzy_rewrite=t),this)},rewrite:function(t){return null==t?n.field[e].rewrite:(t=t.toLowerCase(),("constant_score_auto"===t||"scoring_boolean"===t||"constant_score_boolean"===t||"constant_score_filter"===t||0===t.indexOf("top_terms_boost_")||0===t.indexOf("top_terms_"))&&(n.field[e].rewrite=t),this)},quoteFieldSuffix:function(t){return null==t?n.field[e].quote_field_suffix:(n.field[e].quote_field_suffix=t,this)},phraseSlop:function(t){return null==t?n.field[e].phrase_slop:(n.field[e].phrase_slop=t,this)},analyzeWildcard:function(t){return null==t?n.field[e].analyze_wildcard:(n.field[e].analyze_wildcard=t,this)},escape:function(t){return null==t?n.field[e].escape:(n.field[e].escape=t,this)},minimumShouldMatch:function(t){return null==t?n.field[e].minimum_should_match:(n.field[e].minimum_should_match=t,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"query"},_self:function(){return n}}},w.FilteredQuery=function(e,t){if(!a(e))throw new TypeError("Argument must be a Query");if(null!=t&&!f(t))throw new TypeError("Argument must be a Filter");var n={filtered:{query:e._self()}};return null!=t&&(n.filtered.filter=t._self()),{query:function(e){if(null==e)return n.filtered.query;if(!a(e))throw new TypeError("Argument must be a Query");return n.filtered.query=e._self(),this},filter:function(e){if(null==e)return n.filtered.filter;if(!f(e))throw new TypeError("Argument must be a Filter");return n.filtered.filter=e._self(),this},strategy:function(e){return null==e?n.filtered.strategy:(e=e.toLowerCase(),("query_first"===e||"random_access_always"===e||"leap_frog"===e||"leap_frog_filter_first"===e||0===e.indexOf("random_access_"))&&(n.filtered.strategy=e),this)},cache:function(e){return null==e?n.filtered._cache:(n.filtered._cache=e,this)},cacheKey:function(e){return null==e?n.filtered._cache_key:(n.filtered._cache_key=e,this)},boost:function(e){return null==e?n.filtered.boost:(n.filtered.boost=e,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"query"},_self:function(){return n}}},w.FuzzyLikeThisFieldQuery=function(e,t){var n={flt_field:{}};return n.flt_field[e]={like_text:t},{field:function(t){var r=n.flt_field[e];return null==t?e:(delete n.flt_field[e],e=t,n.flt_field[t]=r,this)},likeText:function(t){return null==t?n.flt_field[e].like_text:(n.flt_field[e].like_text=t,this)},ignoreTf:function(t){return null==t?n.flt_field[e].ignore_tf:(n.flt_field[e].ignore_tf=t,this)},maxQueryTerms:function(t){return null==t?n.flt_field[e].max_query_terms:(n.flt_field[e].max_query_terms=t,this)},minSimilarity:function(t){return null==t?n.flt_field[e].min_similarity:(n.flt_field[e].min_similarity=t,this)},prefixLength:function(t){return null==t?n.flt_field[e].prefix_length:(n.flt_field[e].prefix_length=t,this)},analyzer:function(t){return null==t?n.flt_field[e].analyzer:(n.flt_field[e].analyzer=t,this)},boost:function(t){return null==t?n.flt_field[e].boost:(n.flt_field[e].boost=t,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"query"},_self:function(){return n}}},w.FuzzyLikeThisQuery=function(e){var t={flt:{like_text:e}};return{fields:function(e){if(null==t.flt.fields&&(t.flt.fields=[]),null==e)return t.flt.fields;if(u(e))t.flt.fields.push(e);else{if(!r(e))throw new TypeError("Argument must be a string or array");t.flt.fields=e}return this},likeText:function(e){return null==e?t.flt.like_text:(t.flt.like_text=e,this)},ignoreTf:function(e){return null==e?t.flt.ignore_tf:(t.flt.ignore_tf=e,this)},maxQueryTerms:function(e){return null==e?t.flt.max_query_terms:(t.flt.max_query_terms=e,this)},minSimilarity:function(e){return null==e?t.flt.min_similarity:(t.flt.min_similarity=e,this)},prefixLength:function(e){return null==e?t.flt.prefix_length:(t.flt.prefix_length=e,this)},analyzer:function(e){return null==e?t.flt.analyzer:(t.flt.analyzer=e,this)},boost:function(e){return null==e?t.flt.boost:(t.flt.boost=e,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"query"},_self:function(){return t}}},w.FuzzyQuery=function(e,t){var n={fuzzy:{}};return n.fuzzy[e]={value:t},{field:function(t){var r=n.fuzzy[e];return null==t?e:(delete n.fuzzy[e],e=t,n.fuzzy[t]=r,this)},value:function(t){return null==t?n.fuzzy[e].value:(n.fuzzy[e].value=t,this)},transpositions:function(t){return null==t?n.fuzzy[e].transpositions:(n.fuzzy[e].transpositions=t,this)},maxExpansions:function(t){return null==t?n.fuzzy[e].max_expansions:(n.fuzzy[e].max_expansions=t,this)},minSimilarity:function(t){return null==t?n.fuzzy[e].min_similarity:(n.fuzzy[e].min_similarity=t,this)},prefixLength:function(t){return null==t?n.fuzzy[e].prefix_length:(n.fuzzy[e].prefix_length=t,this)},rewrite:function(t){return null==t?n.fuzzy[e].rewrite:(t=t.toLowerCase(),("constant_score_auto"===t||"scoring_boolean"===t||"constant_score_boolean"===t||"constant_score_filter"===t||0===t.indexOf("top_terms_boost_")||0===t.indexOf("top_terms_"))&&(n.fuzzy[e].rewrite=t),this)},boost:function(t){return null==t?n.fuzzy[e].boost:(n.fuzzy[e].boost=t,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"query"},_self:function(){return n}}},w.GeoShapeQuery=function(e){var t={geo_shape:{}};return t.geo_shape[e]={},{field:function(n){var r=t.geo_shape[e];return null==n?e:(delete t.geo_shape[e],e=n,t.geo_shape[n]=r,this)},shape:function(n){return null==n?t.geo_shape[e].shape:(null!=t.geo_shape[e].indexed_shape&&delete t.geo_shape[e].indexed_shape,t.geo_shape[e].shape=n._self(),this)},indexedShape:function(n){return null==n?t.geo_shape[e].indexed_shape:(null!=t.geo_shape[e].shape&&delete t.geo_shape[e].shape,t.geo_shape[e].indexed_shape=n._self(),this)},relation:function(n){return null==n?t.geo_shape[e].relation:(n=n.toLowerCase(),("intersects"===n||"disjoint"===n||"within"===n)&&(t.geo_shape[e].relation=n),this)},strategy:function(n){return null==n?t.geo_shape[e].strategy:(n=n.toLowerCase(),("recursive"===n||"term"===n)&&(t.geo_shape[e].strategy=n),this)},boost:function(n){return null==n?t.geo_shape[e].boost:(t.geo_shape[e].boost=n,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"query"},_self:function(){return t}}},w.HasChildQuery=function(e,t){if(!a(e))throw new TypeError("Argument must be a valid Query");var n={has_child:{query:e._self(),type:t}};return{query:function(e){if(null==e)return n.has_child.query;if(!a(e))throw new TypeError("Argument must be a valid Query");return n.has_child.query=e._self(),this},type:function(e){return null==e?n.has_child.type:(n.has_child.type=e,this)},scope:function(){return this},scoreType:function(e){return null==e?n.has_child.score_type:(e=e.toLowerCase(),("none"===e||"max"===e||"sum"===e||"avg"===e)&&(n.has_child.score_type=e),this)},boost:function(e){return null==e?n.has_child.boost:(n.has_child.boost=e,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"query"},_self:function(){return n}}},w.HasParentQuery=function(e,t){if(!a(e))throw new TypeError("Argument must be a Query");var n={has_parent:{query:e._self(),parent_type:t}};return{query:function(e){if(null==e)return n.has_parent.query;if(!a(e))throw new TypeError("Argument must be a Query");return n.has_parent.query=e._self(),this},parentType:function(e){return null==e?n.has_parent.parent_type:(n.has_parent.parent_type=e,this)},scope:function(){return this},scoreType:function(e){return null==e?n.has_parent.score_type:(e=e.toLowerCase(),("none"===e||"score"===e)&&(n.has_parent.score_type=e),this)},boost:function(e){return null==e?n.has_parent.boost:(n.has_parent.boost=e,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"query"},_self:function(){return n}}},w.IdsQuery=function(e){var t={ids:{}};if(u(e))t.ids.values=[e];else{if(!r(e))throw new TypeError("Argument must be string or array");t.ids.values=e}return{values:function(e){if(null==e)return t.ids.values;if(u(e))t.ids.values.push(e);else{if(!r(e))throw new TypeError("Argument must be string or array");t.ids.values=e}return this},type:function(e){if(null==t.ids.type&&(t.ids.type=[]),null==e)return t.ids.type;if(u(e))t.ids.type.push(e);else{if(!r(e))throw new TypeError("Argument must be string or array");t.ids.type=e}return this},boost:function(e){return null==e?t.ids.boost:(t.ids.boost=e,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"query"},_self:function(){return t}}},w.IndicesQuery=function(e,t){if(!a(e))throw new TypeError("Argument must be a Query");var n={indices:{query:e._self()}};if(u(t))n.indices.indices=[t];else{if(!r(t))throw new TypeError("Argument must be a string or array");n.indices.indices=t}return{indices:function(e){if(null==e)return n.indices.indices;if(u(e))n.indices.indices.push(e);else{if(!r(e))throw new TypeError("Argument must be a string or array");n.indices.indices=e}return this},query:function(e){if(null==e)return n.indices.query;if(!a(e))throw new TypeError("Argument must be a Query");
return n.indices.query=e._self(),this},noMatchQuery:function(e){if(null==e)return n.indices.no_match_query;if(u(e))e=e.toLowerCase(),("none"===e||"all"===e)&&(n.indices.no_match_query=e);else{if(!a(e))throw new TypeError("Argument must be string or Query");n.indices.no_match_query=e._self()}return this},boost:function(e){return null==e?n.indices.boost:(n.indices.boost=e,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"query"},_self:function(){return n}}},w.MatchAllQuery=function(){var e={match_all:{}};return{boost:function(t){return null==t?e.match_all.boost:(e.match_all.boost=t,this)},toString:function(){return JSON.stringify(e)},_type:function(){return"query"},_self:function(){return e}}},w.MatchQuery=function(e,t){var n={match:{}};return n.match[e]={query:t},{boost:function(t){return null==t?n.match[e].boost:(n.match[e].boost=t,this)},query:function(t){return null==t?n.match[e].query:(n.match[e].query=t,this)},type:function(t){return null==t?n.match[e].type:(t=t.toLowerCase(),("boolean"===t||"phrase"===t||"phrase_prefix"===t)&&(n.match[e].type=t),this)},fuzziness:function(t){return null==t?n.match[e].fuzziness:(n.match[e].fuzziness=t,this)},cutoffFrequency:function(t){return null==t?n.match[e].cutoff_frequency:(n.match[e].cutoff_frequency=t,this)},prefixLength:function(t){return null==t?n.match[e].prefix_length:(n.match[e].prefix_length=t,this)},maxExpansions:function(t){return null==t?n.match[e].max_expansions:(n.match[e].max_expansions=t,this)},operator:function(t){return null==t?n.match[e].operator:(t=t.toLowerCase(),("and"===t||"or"===t)&&(n.match[e].operator=t),this)},slop:function(t){return null==t?n.match[e].slop:(n.match[e].slop=t,this)},analyzer:function(t){return null==t?n.match[e].analyzer:(n.match[e].analyzer=t,this)},minimumShouldMatch:function(t){return null==t?n.match[e].minimum_should_match:(n.match[e].minimum_should_match=t,this)},rewrite:function(t){return null==t?n.match[e].rewrite:(t=t.toLowerCase(),("constant_score_auto"===t||"scoring_boolean"===t||"constant_score_boolean"===t||"constant_score_filter"===t||0===t.indexOf("top_terms_boost_")||0===t.indexOf("top_terms_"))&&(n.match[e].rewrite=t),this)},fuzzyRewrite:function(t){return null==t?n.match[e].fuzzy_rewrite:(t=t.toLowerCase(),("constant_score_auto"===t||"scoring_boolean"===t||"constant_score_boolean"===t||"constant_score_filter"===t||0===t.indexOf("top_terms_boost_")||0===t.indexOf("top_terms_"))&&(n.match[e].fuzzy_rewrite=t),this)},fuzzyTranspositions:function(t){return null==t?n.match[e].fuzzy_transpositions:(n.match[e].fuzzy_transpositions=t,this)},lenient:function(t){return null==t?n.match[e].lenient:(n.match[e].lenient=t,this)},zeroTermsQuery:function(t){return null==t?n.match[e].zero_terms_query:(t=t.toLowerCase(),("all"===t||"none"===t)&&(n.match[e].zero_terms_query=t),this)},toString:function(){return JSON.stringify(n)},_type:function(){return"query"},_self:function(){return n}}},w.MoreLikeThisFieldQuery=function(e,t){var n={mlt_field:{}};return n.mlt_field[e]={like_text:t},{field:function(t){var r=n.mlt_field[e];return null==t?e:(delete n.mlt_field[e],e=t,n.mlt_field[t]=r,this)},likeText:function(t){return null==t?n.mlt_field[e].like_text:(n.mlt_field[e].like_text=t,this)},percentTermsToMatch:function(t){return null==t?n.mlt_field[e].percent_terms_to_match:(n.mlt_field[e].percent_terms_to_match=t,this)},minTermFreq:function(t){return null==t?n.mlt_field[e].min_term_freq:(n.mlt_field[e].min_term_freq=t,this)},maxQueryTerms:function(t){return null==t?n.mlt_field[e].max_query_terms:(n.mlt_field[e].max_query_terms=t,this)},stopWords:function(t){return null==t?n.mlt_field[e].stop_words:(n.mlt_field[e].stop_words=t,this)},minDocFreq:function(t){return null==t?n.mlt_field[e].min_doc_freq:(n.mlt_field[e].min_doc_freq=t,this)},maxDocFreq:function(t){return null==t?n.mlt_field[e].max_doc_freq:(n.mlt_field[e].max_doc_freq=t,this)},minWordLen:function(t){return null==t?n.mlt_field[e].min_word_len:(n.mlt_field[e].min_word_len=t,this)},maxWordLen:function(t){return null==t?n.mlt_field[e].max_word_len:(n.mlt_field[e].max_word_len=t,this)},analyzer:function(t){return null==t?n.mlt_field[e].analyzer:(n.mlt_field[e].analyzer=t,this)},boostTerms:function(t){return null==t?n.mlt_field[e].boost_terms:(n.mlt_field[e].boost_terms=t,this)},boost:function(t){return null==t?n.mlt_field[e].boost:(n.mlt_field[e].boost=t,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"query"},_self:function(){return n}}},w.MoreLikeThisQuery=function(e,t){var n={mlt:{like_text:t,fields:[]}};if(u(e))n.mlt.fields.push(e);else{if(!r(e))throw new TypeError("Argument must be string or array");n.mlt.fields=e}return{fields:function(e){if(null==e)return n.mlt.fields;if(u(e))n.mlt.fields.push(e);else{if(!r(e))throw new TypeError("Argument must be a string or array");n.mlt.fields=e}return this},likeText:function(e){return null==e?n.mlt.like_text:(n.mlt.like_text=e,this)},percentTermsToMatch:function(e){return null==e?n.mlt.percent_terms_to_match:(n.mlt.percent_terms_to_match=e,this)},minTermFreq:function(e){return null==e?n.mlt.min_term_freq:(n.mlt.min_term_freq=e,this)},maxQueryTerms:function(e){return null==e?n.mlt.max_query_terms:(n.mlt.max_query_terms=e,this)},stopWords:function(e){return null==e?n.mlt.stop_words:(n.mlt.stop_words=e,this)},minDocFreq:function(e){return null==e?n.mlt.min_doc_freq:(n.mlt.min_doc_freq=e,this)},maxDocFreq:function(e){return null==e?n.mlt.max_doc_freq:(n.mlt.max_doc_freq=e,this)},minWordLen:function(e){return null==e?n.mlt.min_word_len:(n.mlt.min_word_len=e,this)},maxWordLen:function(e){return null==e?n.mlt.max_word_len:(n.mlt.max_word_len=e,this)},analyzer:function(e){return null==e?n.mlt.analyzer:(n.mlt.analyzer=e,this)},boostTerms:function(e){return null==e?n.mlt.boost_terms:(n.mlt.boost_terms=e,this)},boost:function(e){return null==e?n.mlt.boost:(n.mlt.boost=e,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"query"},_self:function(){return n}}},w.MultiMatchQuery=function(e,t){var n={multi_match:{query:t,fields:[]}};if(u(e))n.multi_match.fields.push(e);else{if(!r(e))throw new TypeError("Argument must be string or array");n.multi_match.fields=e}return{fields:function(e){if(null==e)return n.multi_match.fields;if(u(e))n.multi_match.fields.push(e);else{if(!r(e))throw new TypeError("Argument must be string or array");n.multi_match.fields=e}return this},useDisMax:function(e){return null==e?n.multi_match.use_dis_max:(n.multi_match.use_dis_max=e,this)},tieBreaker:function(e){return null==e?n.multi_match.tie_breaker:(n.multi_match.tie_breaker=e,this)},cutoffFrequency:function(e){return null==e?n.multi_match.cutoff_frequency:(n.multi_match.cutoff_frequency=e,this)},minimumShouldMatch:function(e){return null==e?n.multi_match.minimum_should_match:(n.multi_match.minimum_should_match=e,this)},rewrite:function(e){return null==e?n.multi_match.rewrite:(e=e.toLowerCase(),("constant_score_auto"===e||"scoring_boolean"===e||"constant_score_boolean"===e||"constant_score_filter"===e||0===e.indexOf("top_terms_boost_")||0===e.indexOf("top_terms_"))&&(n.multi_match.rewrite=e),this)},fuzzyRewrite:function(e){return null==e?n.multi_match.fuzzy_rewrite:(e=e.toLowerCase(),("constant_score_auto"===e||"scoring_boolean"===e||"constant_score_boolean"===e||"constant_score_filter"===e||0===e.indexOf("top_terms_boost_")||0===e.indexOf("top_terms_"))&&(n.multi_match.fuzzy_rewrite=e),this)},lenient:function(e){return null==e?n.multi_match.lenient:(n.multi_match.lenient=e,this)},boost:function(e){return null==e?n.multi_match.boost:(n.multi_match.boost=e,this)},query:function(e){return null==e?n.multi_match.query:(n.multi_match.query=e,this)},type:function(e){return null==e?n.multi_match.type:(e=e.toLowerCase(),("boolean"===e||"phrase"===e||"phrase_prefix"===e)&&(n.multi_match.type=e),this)},fuzziness:function(e){return null==e?n.multi_match.fuzziness:(n.multi_match.fuzziness=e,this)},prefixLength:function(e){return null==e?n.multi_match.prefix_length:(n.multi_match.prefix_length=e,this)},maxExpansions:function(e){return null==e?n.multi_match.max_expansions:(n.multi_match.max_expansions=e,this)},operator:function(e){return null==e?n.multi_match.operator:(e=e.toLowerCase(),("and"===e||"or"===e)&&(n.multi_match.operator=e),this)},slop:function(e){return null==e?n.multi_match.slop:(n.multi_match.slop=e,this)},analyzer:function(e){return null==e?n.multi_match.analyzer:(n.multi_match.analyzer=e,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"query"},_self:function(){return n}}},w.NestedQuery=function(e){var t={nested:{path:e}};return{path:function(e){return null==e?t.nested.path:(t.nested.path=e,this)},query:function(e){if(null==e)return t.nested.query;if(!a(e))throw new TypeError("Argument must be a Query");return t.nested.query=e._self(),this},filter:function(e){if(null==e)return t.nested.filter;if(!f(e))throw new TypeError("Argument must be a Filter");return t.nested.filter=e._self(),this},scoreMode:function(e){return null==e?t.nested.score_mode:(e=e.toLowerCase(),("avg"===e||"total"===e||"max"===e||"none"===e)&&(t.nested.score_mode=e),this)},scope:function(){return this},boost:function(e){return null==e?t.nested.boost:(t.nested.boost=e,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"query"},_self:function(){return t}}},w.PrefixQuery=function(e,t){var n={prefix:{}};return n.prefix[e]={value:t},{field:function(t){var r=n.prefix[e];return null==t?e:(delete n.prefix[e],e=t,n.prefix[t]=r,this)},value:function(t){return null==t?n.prefix[e].value:(n.prefix[e].value=t,this)},rewrite:function(t){return null==t?n.prefix[e].rewrite:(t=t.toLowerCase(),("constant_score_auto"===t||"scoring_boolean"===t||"constant_score_boolean"===t||"constant_score_filter"===t||0===t.indexOf("top_terms_boost_")||0===t.indexOf("top_terms_"))&&(n.prefix[e].rewrite=t),this)},boost:function(t){return null==t?n.prefix[e].boost:(n.prefix[e].boost=t,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"query"},_self:function(){return n}}},w.QueryStringQuery=function(e){var t={query_string:{}};return t.query_string.query=e,{query:function(e){return null==e?t.query_string.query:(t.query_string.query=e,this)},defaultField:function(e){return null==e?t.query_string.default_field:(t.query_string.default_field=e,this)},fields:function(e){if(null==t.query_string.fields&&(t.query_string.fields=[]),null==e)return t.query_string.fields;if(u(e))t.query_string.fields.push(e);else{if(!r(e))throw new TypeError("Argument must be a string or array");t.query_string.fields=e}return this},useDisMax:function(e){return null==e?t.query_string.use_dis_max:(t.query_string.use_dis_max=e,this)},defaultOperator:function(e){return null==e?t.query_string.default_operator:(e=e.toUpperCase(),("AND"===e||"OR"===e)&&(t.query_string.default_operator=e),this)},analyzer:function(e){return null==e?t.query_string.analyzer:(t.query_string.analyzer=e,this)},quoteAnalyzer:function(e){return null==e?t.query_string.quote_analyzer:(t.query_string.quote_analyzer=e,this)},allowLeadingWildcard:function(e){return null==e?t.query_string.allow_leading_wildcard:(t.query_string.allow_leading_wildcard=e,this)},lowercaseExpandedTerms:function(e){return null==e?t.query_string.lowercase_expanded_terms:(t.query_string.lowercase_expanded_terms=e,this)},enablePositionIncrements:function(e){return null==e?t.query_string.enable_position_increments:(t.query_string.enable_position_increments=e,this)},fuzzyPrefixLength:function(e){return null==e?t.query_string.fuzzy_prefix_length:(t.query_string.fuzzy_prefix_length=e,this)},fuzzyMinSim:function(e){return null==e?t.query_string.fuzzy_min_sim:(t.query_string.fuzzy_min_sim=e,this)},phraseSlop:function(e){return null==e?t.query_string.phrase_slop:(t.query_string.phrase_slop=e,this)},boost:function(e){return null==e?t.query_string.boost:(t.query_string.boost=e,this)},analyzeWildcard:function(e){return null==e?t.query_string.analyze_wildcard:(t.query_string.analyze_wildcard=e,this)},autoGeneratePhraseQueries:function(e){return null==e?t.query_string.auto_generate_phrase_queries:(t.query_string.auto_generate_phrase_queries=e,this)},minimumShouldMatch:function(e){return null==e?t.query_string.minimum_should_match:(t.query_string.minimum_should_match=e,this)},tieBreaker:function(e){return null==e?t.query_string.tie_breaker:(t.query_string.tie_breaker=e,this)},escape:function(e){return null==e?t.query_string.escape:(t.query_string.escape=e,this)},fuzzyMaxExpansions:function(e){return null==e?t.query_string.fuzzy_max_expansions:(t.query_string.fuzzy_max_expansions=e,this)},fuzzyRewrite:function(e){return null==e?t.query_string.fuzzy_rewrite:(e=e.toLowerCase(),("constant_score_auto"===e||"scoring_boolean"===e||"constant_score_boolean"===e||"constant_score_filter"===e||0===e.indexOf("top_terms_boost_")||0===e.indexOf("top_terms_"))&&(t.query_string.fuzzy_rewrite=e),this)},rewrite:function(e){return null==e?t.query_string.rewrite:(e=e.toLowerCase(),("constant_score_auto"===e||"scoring_boolean"===e||"constant_score_boolean"===e||"constant_score_filter"===e||0===e.indexOf("top_terms_boost_")||0===e.indexOf("top_terms_"))&&(t.query_string.rewrite=e),this)},quoteFieldSuffix:function(e){return null==e?t.query_string.quote_field_suffix:(t.query_string.quote_field_suffix=e,this)},lenient:function(e){return null==e?t.query_string.lenient:(t.query_string.lenient=e,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"query"},_self:function(){return t}}},w.RangeQuery=function(e){var t={range:{}};return t.range[e]={},{field:function(n){var r=t.range[e];return null==n?e:(delete t.range[e],e=n,t.range[n]=r,this)},from:function(n){return null==n?t.range[e].from:(t.range[e].from=n,this)},to:function(n){return null==n?t.range[e].to:(t.range[e].to=n,this)},includeLower:function(n){return null==n?t.range[e].include_lower:(t.range[e].include_lower=n,this)},includeUpper:function(n){return null==n?t.range[e].include_upper:(t.range[e].include_upper=n,this)},gt:function(n){return null==n?t.range[e].gt:(t.range[e].gt=n,this)},gte:function(n){return null==n?t.range[e].gte:(t.range[e].gte=n,this)},lt:function(n){return null==n?t.range[e].lt:(t.range[e].lt=n,this)},lte:function(n){return null==n?t.range[e].lte:(t.range[e].lte=n,this)},boost:function(n){return null==n?t.range[e].boost:(t.range[e].boost=n,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"query"},_self:function(){return t}}},w.RegexpQuery=function(e,t){var n={regexp:{}};return n.regexp[e]={value:t},{field:function(t){var r=n.regexp[e];return null==t?e:(delete n.regexp[e],e=t,n.regexp[t]=r,this)},value:function(t){return null==t?n.regexp[e].value:(n.regexp[e].value=t,this)},flags:function(t){return null==t?n.regexp[e].flags:(n.regexp[e].flags=t,this)},flagsValue:function(t){return null==t?n.regexp[e].flags_value:(n.regexp[e].flags_value=t,this)},rewrite:function(t){return null==t?n.regexp[e].rewrite:(t=t.toLowerCase(),("constant_score_auto"===t||"scoring_boolean"===t||"constant_score_boolean"===t||"constant_score_filter"===t||0===t.indexOf("top_terms_boost_")||0===t.indexOf("top_terms_"))&&(n.regexp[e].rewrite=t),this)},boost:function(t){return null==t?n.regexp[e].boost:(n.regexp[e].boost=t,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"query"},_self:function(){return n}}},w.SpanFirstQuery=function(e,t){if(!a(e))throw new TypeError("Argument must be a SpanQuery");var n={span_first:{match:e._self(),end:t}};return{match:function(e){if(null==e)return n.span_first.match;if(!a(e))throw new TypeError("Argument must be a SpanQuery");return n.span_first.match=e._self(),this},end:function(e){return null==e?n.span_first.end:(n.span_first.end=e,this)},boost:function(e){return null==e?n.span_first.boost:(n.span_first.boost=e,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"query"},_self:function(){return n}}},w.SpanNearQuery=function(e,t){var n,i,u={span_near:{clauses:[],slop:t}};if(a(e))u.span_near.clauses.push(e._self());else{if(!r(e))throw new TypeError("Argument must be SpanQuery or array of SpanQueries");for(n=0,i=e.length;i>n;n++){if(!a(e[n]))throw new TypeError("Argument must be array of SpanQueries");u.span_near.clauses.push(e[n]._self())}}return{clauses:function(e){var t,n;if(null==e)return u.span_near.clauses;if(a(e))u.span_near.clauses.push(e._self());else{if(!r(e))throw new TypeError("Argument must be SpanQuery or array of SpanQueries");for(u.span_near.clauses=[],t=0,n=e.length;n>t;t++){if(!a(e[t]))throw new TypeError("Argument must be array of SpanQueries");u.span_near.clauses.push(e[t]._self())}}return this},slop:function(e){return null==e?u.span_near.slop:(u.span_near.slop=e,this)},inOrder:function(e){return null==e?u.span_near.in_order:(u.span_near.in_order=e,this)},collectPayloads:function(e){return null==e?u.span_near.collect_payloads:(u.span_near.collect_payloads=e,this)},boost:function(e){return null==e?u.span_near.boost:(u.span_near.boost=e,this)},toString:function(){return JSON.stringify(u)},_type:function(){return"query"},_self:function(){return u}}},w.SpanNotQuery=function(e,t){if(!a(e)||!a(t))throw new TypeError("Argument must be a SpanQuery");var n={span_not:{include:e._self(),exclude:t._self()}};return{include:function(e){if(null==e)return n.span_not.include;if(!a(e))throw new TypeError("Argument must be a SpanQuery");return n.span_not.include=e._self(),this},exclude:function(e){if(null==e)return n.span_not.exclude;if(!a(e))throw new TypeError("Argument must be a SpanQuery");return n.span_not.exclude=e._self(),this},boost:function(e){return null==e?n.span_not.boost:(n.span_not.boost=e,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"query"},_self:function(){return n}}},w.SpanOrQuery=function(e){var t,n,i={span_or:{clauses:[]}};if(a(e))i.span_or.clauses.push(e._self());else{if(!r(e))throw new TypeError("Argument must be SpanQuery or array of SpanQueries");for(t=0,n=e.length;n>t;t++){if(!a(e[t]))throw new TypeError("Argument must be array of SpanQueries");i.span_or.clauses.push(e[t]._self())}}return{clauses:function(e){var t,n;if(null==e)return i.span_or.clauses;if(a(e))i.span_or.clauses.push(e._self());else{if(!r(e))throw new TypeError("Argument must be SpanQuery or array of SpanQueries");for(i.span_or.clauses=[],t=0,n=e.length;n>t;t++){if(!a(e[t]))throw new TypeError("Argument must be array of SpanQueries");i.span_or.clauses.push(e[t]._self())}}return this},boost:function(e){return null==e?i.span_or.boost:(i.span_or.boost=e,this)},toString:function(){return JSON.stringify(i)},_type:function(){return"query"},_self:function(){return i}}},w.SpanTermQuery=function(e,t){var n={span_term:{}};return n.span_term[e]={term:t},{field:function(t){var r=n.span_term[e];return null==t?e:(delete n.span_term[e],e=t,n.span_term[t]=r,this)},term:function(t){return null==t?n.span_term[e].term:(n.span_term[e].term=t,this)},boost:function(t){return null==t?n.span_term[e].boost:(n.span_term[e].boost=t,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"query"},_self:function(){return n}}},w.TermQuery=function(e,t){var n={term:{}};return n.term[e]={term:t},{field:function(t){var r=n.term[e];return null==t?e:(delete n.term[e],e=t,n.term[t]=r,this)},term:function(t){return null==t?n.term[e].term:(n.term[e].term=t,this)},boost:function(t){return null==t?n.term[e].boost:(n.term[e].boost=t,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"query"},_self:function(){return n}}},w.TermsQuery=function(e,t){var n={terms:{}};if(u(t))n.terms[e]=[t];else{if(!r(t))throw new TypeError("Argument must be string or array");n.terms[e]=t}return{field:function(t){var r=n.terms[e];return null==t?e:(delete n.terms[e],e=t,n.terms[t]=r,this)},terms:function(t){if(null==t)return n.terms[e];if(u(t))n.terms[e].push(t);else{if(!r(t))throw new TypeError("Argument must be string or array");n.terms[e]=t}return this},minimumShouldMatch:function(e){return null==e?n.terms.minimum_should_match:(n.terms.minimum_should_match=e,this)},disableCoord:function(e){return null==e?n.terms.disable_coord:(n.terms.disable_coord=e,this)},boost:function(e){return null==e?n.terms.boost:(n.terms.boost=e,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"query"},_self:function(){return n}}},w.TopChildrenQuery=function(e,t){if(!a(e))throw new TypeError("Argument must be a Query");var n={top_children:{query:e._self(),type:t}};return{query:function(e){if(null==e)return n.top_children.query;if(!a(e))throw new TypeError("Argument must be a Query");return n.top_children.query=e._self(),this},type:function(e){return null==e?n.top_children.type:(n.top_children.type=e,this)},scope:function(){return this},score:function(e){return null==e?n.top_children.score:(e=e.toLowerCase(),("max"===e||"sum"===e||"avg"===e)&&(n.top_children.score=e),this)},factor:function(e){return null==e?n.top_children.factor:(n.top_children.factor=e,this)},incrementalFactor:function(e){return null==e?n.top_children.incremental_factor:(n.top_children.incremental_factor=e,this)},boost:function(e){return null==e?n.top_children.boost:(n.top_children.boost=e,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"query"},_self:function(){return n}}},w.WildcardQuery=function(e,t){var n={wildcard:{}};return n.wildcard[e]={value:t},{field:function(t){var r=n.wildcard[e];return null==t?e:(delete n.wildcard[e],e=t,n.wildcard[t]=r,this)},value:function(t){return null==t?n.wildcard[e].value:(n.wildcard[e].value=t,this)},rewrite:function(t){return null==t?n.wildcard[e].rewrite:(t=t.toLowerCase(),("constant_score_auto"===t||"scoring_boolean"===t||"constant_score_boolean"===t||"constant_score_filter"===t||0===t.indexOf("top_terms_boost_")||0===t.indexOf("top_terms_"))&&(n.wildcard[e].rewrite=t),this)},boost:function(t){return null==t?n.wildcard[e].boost:(n.wildcard[e].boost=t,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"query"},_self:function(){return n}}},w.GeoPoint=function(t){var n=[0,0];return null!=t&&r(t)&&2===t.length&&(n=[t[1],t[0]]),{properties:function(t){return null==t?n:(i(t)&&e(t,"lat")&&e(t,"lon")&&(n={lat:t.lat,lon:t.lon}),this)},string:function(e){return null==e?n:(u(e)&&-1!==e.indexOf(",")&&(n=e),this)},geohash:function(e,t){return t=null!=t&&o(t)?t:12,null==e?n:(u(e)&&e.length===t&&(n=e),this)},array:function(e){return null==e?n:(r(e)&&2===e.length&&(n=[e[1],e[0]]),this)},toString:function(){return JSON.stringify(n)},_type:function(){return"geo point"},_self:function(){return n}}},w.Highlight=function(n){var i={fields:{}},o=function(t,n,r){null==t?i[n]=r:(e(i.fields,t)||(i.fields[t]={}),i.fields[t][n]=r)};return null!=n&&(u(n)?i.fields[n]={}:r(n)&&t(n,function(e){i.fields[e]={}})),{fields:function(n){return null==n?i.fields:(u(n)?e(i.fields,n)||(i.fields[n]={}):r(n)&&t(n,function(t){e(i.fields,t)||(i.fields[t]={})}),void 0)},preTags:function(e,t){return null===e&&null!=t?i.fields[t].pre_tags:null==e?i.pre_tags:(u(e)?o(t,"pre_tags",[e]):r(e)&&o(t,"pre_tags",e),this)},postTags:function(e,t){return null===e&&null!=t?i.fields[t].post_tags:null==e?i.post_tags:(u(e)?o(t,"post_tags",[e]):r(e)&&o(t,"post_tags",e),this)},order:function(e,t){return null===e&&null!=t?i.fields[t].order:null==e?i.order:(e=e.toLowerCase(),"score"===e&&o(t,"order",e),this)},tagsSchema:function(e){return null==e?i.tags_schema:(e=e.toLowerCase(),"styled"===e&&(i.tags_schema=e),this)},highlightFilter:function(e,t){return null===e&&null!=t?i.fields[t].highlight_filter:null==e?i.highlight_filter:(o(t,"highlight_filter",e),this)},fragmentSize:function(e,t){return null===e&&null!=t?i.fields[t].fragment_size:null==e?i.fragment_size:(o(t,"fragment_size",e),this)},numberOfFragments:function(e,t){return null===e&&null!=t?i.fields[t].number_of_fragments:null==e?i.number_of_fragments:(o(t,"number_of_fragments",e),this)},encoder:function(e){return null==e?i.encoder:(e=e.toLowerCase(),("default"===e||"html"===e)&&(i.encoder=e),this)},requireFieldMatch:function(e,t){return null===e&&null!=t?i.fields[t].require_field_match:null==e?i.require_field_match:(o(t,"require_field_match",e),this)},boundaryMaxScan:function(e,t){return null===e&&null!=t?i.fields[t].boundary_max_scan:null==e?i.boundary_max_scan:(o(t,"boundary_max_scan",e),this)},boundaryChars:function(e,t){return null===e&&null!=t?i.fields[t].boundary_chars:null==e?i.boundary_chars:(o(t,"boundary_chars",e),this)},type:function(e,t){return null===e&&null!=t?i.fields[t].type:null==e?i.type:(e=e.toLowerCase(),("fast-vector-highlighter"===e||"highlighter"===e)&&o(t,"type",e),this)},fragmenter:function(e,t){return null===e&&null!=t?i.fields[t].fragmenter:null==e?i.fragmenter:(e=e.toLowerCase(),("simple"===e||"span"===e)&&o(t,"fragmenter",e),this)},toString:function(){return JSON.stringify(i)},_type:function(){return"highlight"},_self:function(){return i}}},w.IndexedShape=function(e,t){var n={type:e,id:t};return{type:function(e){return null==e?n.type:(n.type=e,this)},id:function(e){return null==e?n.id:(n.id=e,this)},index:function(e){return null==e?n.index:(n.index=e,this)},shapeFieldName:function(e){return null==e?n.shape_field_name:(n.shape_field_name=e,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"indexed shape"},_self:function(){return n}}},w.Request=function(t){var i,o,s,l={},h=function(t){var n="",r=[];o.length>0&&(n=n+"/"+o.join()),s.length>0&&(n=n+"/"+s.join()),t.length>0&&"/"!==t[0]&&(n+="/"),n+=t;for(var i in l)e(l,i)&&""!==l[i]&&r.push(i+"="+encodeURIComponent(l[i]));return r.length>0&&(n=n+"?"+r.join("&")),n};return i={},t=t||{},o=null==t.indices?[]:u(t.indices)?[t.indices]:t.indices,s=null==t.types?[]:u(t.types)?[t.types]:t.types,0===o.length&&s.length>0&&(o=["_all"]),null!=t.routing&&(l.routing=t.routing),{sort:function(){var t,n;if(e(i,"sort")||(i.sort=[]),0===arguments.length)return i.sort;if(1===arguments.length){var o=arguments[0];if(u(o))i.sort.push(o);else if(p(o))i.sort.push(o._self());else{if(!r(o))throw new TypeError("Argument must be string, Sort, or array");for(i.sort=[],t=0,n=o.length;n>t;t++)if(u(o[t]))i.sort.push(o[t]);else{if(!p(o[t]))throw new TypeError("Invalid object in array");i.sort.push(o[t]._self())}}}else if(2===arguments.length){var s=arguments[0],l=arguments[1];if(u(s)&&u(l)&&(l=l.toLowerCase(),"asc"===l||"desc"===l)){var a={};a[s]={order:l},i.sort.push(a)}}return this},trackScores:function(e){return null==e?i.track_scores:(i.track_scores=e,this)},size:function(e){return null==e?i.size:(i.size=e,this)},timeout:function(e){return null==e?l.timeout:(l.timeout=e,this)},routing:function(e){return null==e?l.routing:(l.routing=e,this)},replication:function(e){return null==e?l.replication:(e=e.toLowerCase(),("async"===e||"sync"===e||"default"===e)&&(l.replication=e),this)},consistency:function(e){return null==e?l.consistency:(e=e.toLowerCase(),("default"===e||"one"===e||"quorum"===e||"all"===e)&&(l.consistency=e),this)},fields:function(e){if(null==e)return i.fields;if(null==i.fields&&(i.fields=[]),u(e))i.fields.push(e);else{if(!r(e))throw new TypeError("Argument must be string or array");i.fields=e}return this},from:function(e){return null==e?i.from:(i.from=e,this)},query:function(e){if(null==e)return i.query;if(!a(e))throw new TypeError("Argument must be a Query");return i.query=e._self(),this},indices:function(e){if(null==e)return o;if(u(e))o=[e];else{if(!r(e))throw new TypeError("Argument must be a string or array");o=e}return 0===o.length&&s.length>0&&(o=["_all"]),this},types:function(e){if(null==e)return s;if(u(e))s=[e];else{if(!r(e))throw new TypeError("Argument must be a string or array");s=e}return 0===o.length&&s.length>0&&(o=["_all"]),this},facet:function(e){if(null==e)return i.facets;if(null==i.facets&&(i.facets={}),!c(e))throw new TypeError("Argument must be a Facet");return n(i.facets,e._self()),this},filter:function(e){if(null==e)return i.filter;if(!f(e))throw new TypeError("Argument must be a Filter");return i.filter=e._self(),this},highlight:function(e){if(null==e)return i.highlight;if(!d(e))throw new TypeError("Argument must be a Highlight object");return i.highlight=e._self(),this},suggest:function(e){if(null==e)return i.suggest;if(null==i.suggest&&(i.suggest={}),u(e))i.suggest.text=e;else{if(!y(e))throw new TypeError("Argument must be a string or Suggest object");n(i.suggest,e._self())}return this},scriptField:function(e){if(null==e)return i.script_fields;if(null==i.script_fields&&(i.script_fields={}),!_(e))throw new TypeError("Argument must be a ScriptField");return n(i.script_fields,e._self()),this},preference:function(e){return null==e?l.preference:(l.preference=e,this)},ignoreIndices:function(e){return null==e?l.ignore_indices:(e=e.toLowerCase(),("none"===e||"missing"===e)&&(l.ignore_indices=e),this)},indexBoost:function(e,t){return null==i.indices_boost&&(i.indices_boost={}),0===arguments.length?i.indices_boost:(i.indices_boost[e]=t,this)},explain:function(e){return null==e?i.explain:(i.explain=e,this)},version:function(e){return null==e?i.version:(i.version=e,this)},minScore:function(e){return null==e?i.min_score:(i.min_score=e,this)},toString:function(){return JSON.stringify(i)},_type:function(){return"request"},_self:function(){return i},doDeleteByQuery:function(e,t){var n=JSON.stringify(i.query);if(null==w.client)throw Error("No Client Set");return w.client.del(h("_query"),n,e,t)},doCount:function(e,t){var n=JSON.stringify(i.query);if(null==w.client)throw Error("No Client Set");return w.client.post(h("_count"),n,e,t)},doSearch:function(e,t){var n=JSON.stringify(i);if(null==w.client)throw Error("No Client Set");return w.client.post(h("_search"),n,e,t)}}},w.ScriptField=function(e){var t={};return t[e]={},{lang:function(n){return null==n?t[e].lang:(t[e].lang=n,this)},script:function(n){return null==n?t[e].script:(t[e].script=n,this)},params:function(n){return null==n?t[e].params:(t[e].params=n,this)},ignoreFailure:function(n){return null==n?t[e].ignore_failure:(t[e].ignore_failure=n,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"script field"},_self:function(){return t}}},w.Shape=function(e,t){var n={},r=function(e){var t=!1;return("point"===e||"linestring"===e||"polygon"===e||"multipoint"===e||"envelope"===e||"multipolygon"===e)&&(t=!0),t};return e=e.toLowerCase(),r(e)&&(n.type=e,n.coordinates=t),{type:function(e){return null==e?n.type:(e=e.toLowerCase(),r(e)&&(n.type=e),this)},coordinates:function(e){return null==e?n.coordinates:(n.coordinates=e,this)},toString:function(){return JSON.stringify(n)},_type:function(){return"shape"},_self:function(){return n}}},w.Sort=function(e){null==e&&(e="_score");var t={},n=e,r="_geo_distance",i="_script";return t[n]={},{field:function(r){var i=t[n];return null==r?e:(delete t[n],e=r,n=r,t[n]=i,this)},geoDistance:function(i){var u=t[n];if(null==i)return t[n][e];if(!h(i))throw new TypeError("Argument must be a GeoPoint");return delete t[n],n=r,t[n]=u,t[n][e]=i._self(),this},script:function(e){var r=t[n];return null==e?t[n].script:(delete t[n],n=i,t[n]=r,t[n].script=e,this)},order:function(e){return null==e?t[n].order:(e=e.toLowerCase(),("asc"===e||"desc"===e)&&(t[n].order=e),this)},asc:function(){return t[n].order="asc",this},desc:function(){return t[n].order="desc",this},reverse:function(e){return null==e?t[n].reverse:(t[n].reverse=e,this)},missing:function(e){return null==e?t[n].missing:(t[n].missing=e,this)},ignoreUnmapped:function(e){return null==e?t[n].ignore_unmapped:(t[n].ignore_unmapped=e,this)},unit:function(e){return null==e?t[n].unit:(e=e.toLowerCase(),("mi"===e||"km"===e)&&(t[n].unit=e),this)},normalize:function(e){return null==e?t[n].normalize:(t[n].normalize=e,this)},distanceType:function(e){return null==e?t[n].distance_type:(e=e.toLowerCase(),("arc"===e||"plane"===e)&&(t[n].distance_type=e),this)},params:function(e){return null==e?t[n].params:(t[n].params=e,this)},lang:function(e){return null==e?t[n].lang:(t[n].lang=e,this)
},type:function(e){return null==e?t[n].type:(e=e.toLowerCase(),("string"===e||"number"===e)&&(t[n].type=e),this)},mode:function(e){return null==e?t[n].mode:(e=e.toLowerCase(),("min"===e||"max"===e||"sum"===e||"avg"===e)&&(t[n].mode=e),this)},nestedPath:function(e){return null==e?t[n].nested_path:(t[n].nested_path=e,this)},nestedFilter:function(e){if(null==e)return t[n].nested_filter;if(!f(e))throw new TypeError("Argument must be a Filter");return t[n].nested_filter=e._self(),this},toString:function(){return JSON.stringify(t)},_type:function(){return"sort"},_self:function(){return t}}},w.DirectGenerator=function(){var e=w.DirectSettingsMixin(),t=e._self();return n(e,{preFilter:function(e){return null==e?t.pre_filter:(t.pre_filter=e,this)},postFilter:function(e){return null==e?t.post_filter:(t.post_filter=e,this)},field:function(e){return null==e?t.field:(t.field=e,this)},size:function(e){return null==e?t.size:(t.size=e,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"generator"},_self:function(){return t}})},w.DirectSettingsMixin=function(){var e={};return{accuracy:function(t){return null==t?e.accuracy:(e.accuracy=t,this)},suggestMode:function(t){return null==t?e.suggest_mode:(t=t.toLowerCase(),("missing"===t||"popular"===t||"always"===t)&&(e.suggest_mode=t),this)},sort:function(t){return null==t?e.sort:(t=t.toLowerCase(),("score"===t||"frequency"===t)&&(e.sort=t),this)},stringDistance:function(t){return null==t?e.string_distance:(t=t.toLowerCase(),("internal"===t||"damerau_levenshtein"===t||"levenstein"===t||"jarowinkler"===t||"ngram"===t)&&(e.string_distance=t),this)},maxEdits:function(t){return null==t?e.max_edits:(e.max_edits=t,this)},maxInspections:function(t){return null==t?e.max_inspections:(e.max_inspections=t,this)},maxTermFreq:function(t){return null==t?e.max_term_freq:(e.max_term_freq=t,this)},prefixLength:function(t){return null==t?e.prefix_length:(e.prefix_length=t,this)},minWordLen:function(t){return null==t?e.min_word_len:(e.min_word_len=t,this)},minDocFreq:function(t){return null==t?e.min_doc_freq:(e.min_doc_freq=t,this)},_self:function(){return e}}},w.PhraseSuggester=function(e){var t={};return t[e]={phrase:{}},{text:function(n){return null==n?t[e].text:(t[e].text=n,this)},analyzer:function(n){return null==n?t[e].phrase.analyzer:(t[e].phrase.analyzer=n,this)},field:function(n){return null==n?t[e].phrase.field:(t[e].phrase.field=n,this)},size:function(n){return null==n?t[e].phrase.size:(t[e].phrase.size=n,this)},shardSize:function(n){return null==n?t[e].phrase.shard_size:(t[e].phrase.shard_size=n,this)},realWorldErrorLikelihood:function(n){return null==n?t[e].phrase.real_world_error_likelihood:(t[e].phrase.real_world_error_likelihood=n,this)},confidence:function(n){return null==n?t[e].phrase.confidence:(t[e].phrase.confidence=n,this)},separator:function(n){return null==n?t[e].phrase.separator:(t[e].phrase.separator=n,this)},maxErrors:function(n){return null==n?t[e].phrase.max_errors:(t[e].phrase.max_errors=n,this)},gramSize:function(n){return null==n?t[e].phrase.gram_size:(t[e].phrase.gram_size=n,this)},forceUnigrams:function(n){return null==n?t[e].phrase.force_unigrams:(t[e].phrase.force_unigrams=n,this)},linearSmoothing:function(n,r,i){return 0===arguments.length?t[e].phrase.smoothing:(t[e].phrase.smoothing={linear:{trigram_lambda:n,bigram_lambda:r,unigram_lambda:i}},this)},laplaceSmoothing:function(n){return null==n?t[e].phrase.smoothing:(t[e].phrase.smoothing={laplace:{alpha:n}},this)},stupidBackoffSmoothing:function(n){return null==n?t[e].phrase.smoothing:(t[e].phrase.smoothing={stupid_backoff:{discount:n}},this)},directGenerator:function(n){var i,u;if(null==t[e].phrase.direct_generator&&(t[e].phrase.direct_generator=[]),null==n)return t[e].phrase.direct_generator;if(b(n))t[e].phrase.direct_generator.push(n._self());else{if(!r(n))throw new TypeError("Argument must be a Generator or array of Generators");for(t[e].phrase.direct_generator=[],i=0,u=n.length;u>i;i++){if(!b(n[i]))throw new TypeError("Argument must be an array of Generators");t[e].phrase.direct_generator.push(n[i]._self())}}return this},toString:function(){return JSON.stringify(t)},_type:function(){return"suggest"},_self:function(){return t}}},w.TermSuggester=function(e){var t={},r=w.DirectSettingsMixin();return t[e]={term:r._self()},n(r,{text:function(n){return null==n?t[e].text:(t[e].text=n,this)},analyzer:function(n){return null==n?t[e].term.analyzer:(t[e].term.analyzer=n,this)},field:function(n){return null==n?t[e].term.field:(t[e].term.field=n,this)},size:function(n){return null==n?t[e].term.size:(t[e].term.size=n,this)},shardSize:function(n){return null==n?t[e].term.shard_size:(t[e].term.shard_size=n,this)},toString:function(){return JSON.stringify(t)},_type:function(){return"suggest"},_self:function(){return t}})},w.noConflict=function(){return x.ejs=v,this}}).call(this);