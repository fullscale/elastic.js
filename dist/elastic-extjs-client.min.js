/*! elastic.js - v1.0.0 - 2013-04-13
* https://github.com/fullscale/elastic.js
* Copyright (c) 2013 FullScale Labs, LLC; Licensed MIT */
(function(){"use strict";var e=this,t;typeof exports!="undefined"?t=exports:e.ejs==null?t=e.ejs={}:t=e.ejs,t.ExtJSClient=function(e){Ext.Ajax.cors=!0;var t={headers:{"Content-Type":"application/json"}},n=function(t){return t.charAt(0)!=="/"&&(t="/"+t),e+t},r=function(e){return function(t){var n=Ext.JSON.decode(t.responseText);e!=null&&e(n)}};return e==null?e="":e.charAt(e.length-1)==="/"&&(e=e.substring(0,e.length-1)),{server:function(t){return t==null?e:(t.charAt(t.length-1)==="/"?e=t.substring(0,t.length-1):e=t,this)},option:function(e,n){if(e==null)return t;if(n==null)return t[e];t[e]=n},get:function(e,i,s,o){var u=Ext.apply({},t);return u.method="GET",u.url=n(e),u.params=i,u.success=r(s),u.failure=o,Ext.Ajax.request(u)},post:function(e,i,s,o){var u=Ext.apply({},t);return u.method="POST",u.url=n(e),u.jsonData=i,u.success=r(s),u.failure=o,Ext.Ajax.request(u)},put:function(e,i,s,o){var u=Ext.apply({},t);return u.method="PUT",u.url=n(e),u.jsonData=i,u.success=r(s),u.failure=o,Ext.Ajax.request(u)},del:function(e,i,s,o){var u=Ext.apply({},t);return u.method="DELETE",u.url=n(e),u.jsonData=i,u.success=r(s),u.failure=o,Ext.Ajax.request(u)},head:function(e,r,i,s){var o=Ext.apply({},t);return o.method="HEAD",o.url=n(e),o.params=r,o.failure=s,o.callback=function(e,t,n){if(!t)return;var r=n.getAllResponseHeaders().split("\n"),s={},o,u;for(u=0;u<r.length;u++)o=r[u].split(":"),o.length!==2&&(s[o[0]]=o[1]);i!=null&&i(s)},Ext.Ajax.request(o)}}}}).call(this);