/*! elastic.js - v1.0.0 - 2013-03-26
 * https://github.com/fullscale/elastic.js
 * Copyright (c) 2013 FullScale Labs, LLC; Licensed MIT */
(function(){"use strict";var e,t=this;e="undefined"!=typeof exports?exports:null==t.ejs?t.ejs={}:t.ejs,e.ExtJSClient=function(e){Ext.Ajax.cors=!0;var t={headers:{"Content-Type":"application/json"}},n=function(t){return"/"!==t.charAt(0)&&(t="/"+t),e+t},r=function(e){return function(t){var n=Ext.JSON.decode(t.responseText);null!=e&&e(n)}};return null==e?e="":"/"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),{server:function(t){return null==t?e:(e="/"===t.charAt(t.length-1)?t.substring(0,t.length-1):t,this)},option:function(e,n){return null==e?t:null==n?t[e]:(t[e]=n,void 0)},get:function(e,i,u,o){var s=Ext.apply({},t);return s.method="GET",s.url=n(e),s.params=i,s.success=r(u),s.failure=o,Ext.Ajax.request(s)},post:function(e,i,u,o){var s=Ext.apply({},t);return s.method="POST",s.url=n(e),s.jsonData=i,s.success=r(u),s.failure=o,Ext.Ajax.request(s)},put:function(e,i,u,o){var s=Ext.apply({},t);return s.method="PUT",s.url=n(e),s.jsonData=i,s.success=r(u),s.failure=o,Ext.Ajax.request(s)},del:function(e,i,u,o){var s=Ext.apply({},t);return s.method="DELETE",s.url=n(e),s.jsonData=i,s.success=r(u),s.failure=o,Ext.Ajax.request(s)},head:function(e,r,i,u){var o=Ext.apply({},t);return o.method="HEAD",o.url=n(e),o.params=r,o.failure=u,o.callback=function(e,t,n){if(t){var r,u,o=n.getAllResponseHeaders().split("\n"),s={};for(u=0;o.length>u;u++)r=o[u].split(":"),2!==r.length&&(s[r[0]]=r[1]);null!=i&&i(s)}},Ext.Ajax.request(o)}}}}).call(this);